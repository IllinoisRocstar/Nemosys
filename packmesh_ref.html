<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NEMoSys: Pack Mesh Generation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="IRTriangles_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NEMoSys
   &#160;<span id="projectnumber">0.63.0</span>
   </div>
   <div id="projectbrief">A modular, extensible resource with robust automated mesh generation, mesh quality analysis, adaptive mesh refinement, and data transfer between arbitrary meshes.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('packmesh_ref.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Pack Mesh Generation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>There are three workflows embedded within the <em>Pack Mesh</em> engine to generate 3D hex(-dominant) multi-material meshes, 3D periodic tetrahedral multi-material meshes, and 2D surface meshes using input pack geometries in the form of an stl file or a <em>Rocpack</em> geometry file. The basic workflow is as follows:</p><ul>
<li>Generate a background volume mesh.</li>
<li>Snap the extracted surfaces onto the background mesh to create conformal interfaces.</li>
<li>Split the regions into different <code>cellZones</code>.</li>
<li>Merge all the different volumes into two foam meshes: the packs and the surrounding medium.</li>
<li>Create patches for the multiple pack regions.</li>
<li>Convert the foam mesh to VTK.</li>
<li>Write mesh quality statistics to a text file.</li>
</ul>
<p><b>Pack Mesh JSON Template</b> </p><pre class="fragment">{
    "Program Type": "Pack Mesh Generation",
    "Mesh File Options": {
        "Input Rocpack File":"packs_roc",
        "Output Pack Mesh File": "geom_pack_mesh.vtu",
        "Output Surrounding Mesh File": "geom_surrounding_mesh.vtu",
        "Output Combined Mesh File": "packmesh.vtu"
    },
    "Pack Mesh Options": {
        "Type": "hexahedral",
        "Engine": "packmesh",
        "snappyHexMesh Parameters": {
            ...
        },
        "blockMesh Parameters": {
            ...
        },
        "MeshManipulation mergeMeshes Parameters": {
            ...
        },
        "MeshManipulation createPatch Parameters": {
            ...
      }
    }
  }
</pre><p><em>Pack Mesh</em> uses <em>snappyHexMesh</em> and <em>blockMesh</em> to generate meshes of packs in surrounding material.</p>
<p>For <em>snappyHexMesh</em> and <em>blockMesh</em>, only parameters that are required or are specific to <em>Pack Mesh</em> are included here. For other options, check the reference manual pages for those meshing engines.</p>
<p>Four files are referenced in the <code>"Mesh File Options"</code> section of the pack mesh generation JSON input file:</p><ul>
<li><b><code>Input Rocpack File</code></b>: the <em>Rocpack</em> file from which the pack mesh will be generated. If using an stl file, instead specify with <b><code>Input Geometry File</code></b></li>
<li><b><code>Output Pack Mesh File</code></b>: the mesh of the packed objects.</li>
<li><b><code>Output Surrounding Mesh File</code></b>: the mesh of the surrounding medium.</li>
<li><b><code>Output Combined Mesh File</code></b>: the combined pack and surrounding medium meshes.</li>
</ul>
<ul>
<li><b><code>Type</code></b>: One of <code>"surface"</code> or <code>"hexahedral"</code>. Required</li>
<li><b><code>Engine</code></b>: <code>"packmesh"</code> Required</li>
<li><b><code>snappyHexMesh Parameters</code></b>: Required<ul>
<li><b><code>Castellated Mesh</code></b>: If <code>true</code>, enables castellated mesh option. Required</li>
<li><b><code>Snapping</code></b>: If <code>true</code>, enables surface snapping option. Required</li>
<li><b><code>Layer Addition</code></b>: If <code>true</code>, enables adding layers. Required</li>
<li><b><code>Geometry Definition</code></b>: Required <code>Enable Multi Patches</code>: Should be enabled if the geometry file has more than one patch. Required <code>Input Patch Name</code>: If specified, will be assigned to the entire surface of the provided geometry. Required</li>
<li><b><code>Castellated Mesh Controls</code></b>: Required <code>CellZones</code>: If <code>true</code>, indicates that there will be multiple disconnected regions within the mesh. Required <code>RegionRefine</code>: If <code>true</code>, indicates additional refinement regions. Required <code>SurfaceRefine</code>: If <code>true</code>, indicates additional refinement surfaces. Required</li>
</ul>
</li>
<li><b><code>blockMesh Parameters</code></b>: Required<ul>
<li><b><code>Input Dict File</code></b>: Specifies the input file, if any. <code>false</code> indicates no input dict should be used. Required</li>
<li><b><code>scaleToMeters</code></b>: Scales all input lengths from the default of meters.To set to millimeters, set to 0.001</li>
<li><b><code>NumCells</code></b>: Number of cells in each direction [<em>x</em>, <em>y</em>, <em>z</em>].For 40 cells in every direction, set to [40, 40, 40]</li>
<li><b><code>Block Parameters</code></b>: Required <code>InitialPoint</code>: Location of reference point, [<em>x</em>, <em>y</em>, <em>z</em>] Required if not setting <code>"Auto_Generate"</code> <code>Length</code>: Side length in each direction [<em>Lx</em>, <em>Ly</em>, <em>Lz</em>]. Required if not setting <code>"Auto_Generate"</code> <code>Auto_Generate</code>: Automatically generate the bounding box. Required if <code>"InitialPoint"</code> and <code>"Length"</code> are not specified <code>Offset</code>: Required if <code>"InitialPoint"</code> and <code>"Length"</code> are not specified</li>
</ul>
</li>
<li><b><code>MeshManipulation mergeMeshes Parameters</code></b>: Options for combining the pack geometries to bring them under one mesh. Optional<ul>
<li><b><code>Master Region Path</code></b>: Specifies the input file, if any. <code>false</code> indicates no input dict should be used. Optional</li>
<li><b><code>Add Region Path</code></b>: Specifies the input file, if any. <code>false</code> indicates no input dict should be used. Optional</li>
<li><b><code>overwrite?</code></b>: Should always be set to <code>true</code> for multi-material meshing. Optional</li>
</ul>
</li>
<li><b><code>MeshManipulation createPatch Parameters</code></b>: Sets names for the patches used. Optional<ul>
<li><b><code>Surrounding PatchName</code></b>: Specifies the name for the surrounding medium. Optional</li>
<li><b><code>Packs PatchName</code></b>: Specifies the name for the packed material. Optional</li>
<li><b><code>Surrounding PatchType</code></b>: Specifies the patch type (either <code>patch</code> or <code>wall</code>) for the surrounding medium. Optional</li>
<li><b><code>Packs PatchType</code></b>: Specifies the patch type (either <code>patch</code> or <code>wall</code>) for the packed material. Optional</li>
<li><b><code>overwrite?</code></b>: Should always be set to <code>true</code> for multi-material meshing. Optional</li>
</ul>
</li>
</ul>
<p>Four files are referenced in the <code>"Mesh File Options"</code> section of the pack mesh generation JSON input file:</p><ul>
<li><b><code>Input Rocpack File</code></b>: the <em>Rocpack</em> file from which the pack mesh will be generated. If using an stl file, instead specify with <b><code>Input Geometry File</code></b></li>
<li><b><code>Output Pack Mesh File</code></b>: the mesh of the packed objects.</li>
<li><b><code>Output Surrounding Mesh File</code></b>: the mesh of the surrounding medium.</li>
<li><b><code>Output Combined Mesh File</code></b>: the combined pack and surrounding medium meshes.</li>
</ul>
<ul>
<li><b><code>Type</code></b>: One of <code>"surface"</code> or <code>"hexahedral"</code>. Required</li>
<li><b><code>Engine</code></b>: <code>"packmesh"</code> Required</li>
<li><b><code>Periodic 3D Mesh</code></b>: Required<ul>
<li><b><code>Physical Group Options</code></b>: One of <code>"None"</code>, <code>"Multi Physical Groups"</code>, <code>"Two Physical Groups"</code>, or <code>"Physical Group per Shape"</code> Optional; default is <code>"None"</code></li>
<li><b><code>Create cohesive elements</code></b>: If <code>true</code>, creates zero-thickness 3D elements between the pack and the surrounding region. Optional; default is <code>false</code></li>
<li><b><code>Enable Patches</code></b>: If <code>true</code>, enables writing of surface patches in the final mesh. Optional; default is <code>false</code></li>
<li><b><code>Set Periodic Geometry</code></b>: Optional; default is <code>false</code></li>
<li><b><code>Element Order</code></b>: Either 1 or 2 Optional; default is 1</li>
<li><b><code>Custom Domain</code></b>: Optional <code>Initial</code>: <code>Length</code>:</li>
<li><b><code>TransferMesh</code></b>: Specifies translation in the [<em>x</em>, <em>y</em>, <em>z</em>] directions. Optional</li>
</ul>
</li>
<li><b><code>Mesh Size</code></b>: Optional</li>
<li><b><code>Mesh Algorithm</code></b>: Options are 1, 2, 5, 6, 7, 8, or 9 for 2D meshes and 1, 4, 7, 9, or 10 for 3D meshes; see below. Optional; default is 1</li>
<li><b><code>Scale Value</code></b>: Sets the amount of reduction, from 0 to 1, with 1 being no scaling Optional</li>
<li><b><code>Remove geometries on boundary</code></b>: If <code>true</code>, any geometry intersecting the boundary will be removed Optional; default is <code>false</code></li>
<li><b><code>Enable Default Outputs</code></b>: Optional; default is <code>false</code></li>
<li><b><code>Enable Size Preservation</code></b>: If <code>true</code>, pack size is preserved instead of packing fraction. Optional; default is <code>false</code></li>
<li><b><code>Refinement Levels</code></b>: Refinement applied to the original mesh. Optional</li>
<li><b><code>Upper Threshold</code></b>: Upper threshold for filtering with respect to mean. Optional</li>
<li><b><code>Lower Threshold</code></b> Lower threshold for filtering with respect to mean. Optional</li>
</ul>
<p><b>Meshing Algorithms for 2D</b></p><ul>
<li>MeshAdapt (1)</li>
<li>Automatic (2)</li>
<li>Delaunay (5)</li>
<li>Frontal Delaunay (6)</li>
<li>BAMG (7)</li>
<li>Frontal Delaunay for Quads (8)</li>
<li>Packing of Parallelograms (9)</li>
</ul>
<p><b>Meshing Algorithms for 3D</b></p><ul>
<li>Delaunay (1)</li>
<li>Frontal (4)</li>
<li>MMG3D (7)</li>
<li>R-Tree (9)</li>
<li>HXT (10) </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Jan 26 2022 16:40:03 for NEMoSys by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NEMoSys: FETransfer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="IRTriangles_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NEMoSys
   &#160;<span id="projectnumber">0.63.0</span>
   </div>
   <div id="projectbrief">A modular, extensible resource with robust automated mesh generation, mesh quality analysis, adaptive mesh refinement, and data transfer between arbitrary meshes.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classFETransfer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="classFETransfer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">FETransfer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="FETransfer_8H_source.html#l00038">38</a> of file <a class="el" href="FETransfer_8H_source.html">FETransfer.H</a>.</p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a26ec435b16ac77beb563428fffec8ea4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFETransfer.html#a26ec435b16ac77beb563428fffec8ea4">FETransfer</a> (<a class="el" href="classmeshBase.html">meshBase</a> *_source, <a class="el" href="classmeshBase.html">meshBase</a> *_target)</td></tr>
<tr class="separator:a26ec435b16ac77beb563428fffec8ea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a335c0cf90a57e2de3fae595fdf9ab3e2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFETransfer.html#a335c0cf90a57e2de3fae595fdf9ab3e2">~FETransfer</a> () override</td></tr>
<tr class="separator:a335c0cf90a57e2de3fae595fdf9ab3e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab797ca0634be77b07be086c8bb069a74"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFETransfer.html#ab797ca0634be77b07be086c8bb069a74">transferPointData</a> (const std::vector&lt; int &gt; &amp;arrayIDs, const std::vector&lt; std::string &gt; &amp;newnames=std::vector&lt; std::string &gt;()) override</td></tr>
<tr class="memdesc:ab797ca0634be77b07be086c8bb069a74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfers point data with arrayID from source mesh to target The algorithm is as follows; 1) For each point in the target mesh, find the cell of the source mesh in which it exists.  <a href="#ab797ca0634be77b07be086c8bb069a74">More...</a><br /></td></tr>
<tr class="separator:ab797ca0634be77b07be086c8bb069a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ec34fb98ff7c8bd667bad8bbc11a061"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFETransfer.html#a5ec34fb98ff7c8bd667bad8bbc11a061">transferPointData</a> (int pointId, vtkSmartPointer&lt; vtkGenericCell &gt; containingCell, std::vector&lt; vtkSmartPointer&lt; vtkDoubleArray &gt;&gt; &amp;dasSource, std::vector&lt; vtkSmartPointer&lt; vtkDoubleArray &gt;&gt; &amp;dasTarget, bool flip)</td></tr>
<tr class="separator:a5ec34fb98ff7c8bd667bad8bbc11a061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fe2326a8943ce57bc0fa271631ece2b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFETransfer.html#a9fe2326a8943ce57bc0fa271631ece2b">transferCellData</a> (const std::vector&lt; int &gt; &amp;arrayIDs, const std::vector&lt; std::string &gt; &amp;newnames=std::vector&lt; std::string &gt;()) override</td></tr>
<tr class="memdesc:a9fe2326a8943ce57bc0fa271631ece2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer cell data from source mesh to target The algorithm is as follows: 1) Convert the cell data on the source mesh by inverse-distance weighted averaging of data at cells sharing given point.  <a href="#a9fe2326a8943ce57bc0fa271631ece2b">More...</a><br /></td></tr>
<tr class="separator:a9fe2326a8943ce57bc0fa271631ece2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4b311809f5753222fec9190e3df2d0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFETransfer.html#ad4b311809f5753222fec9190e3df2d0d">transferCellData</a> (int i, vtkSmartPointer&lt; vtkGenericCell &gt; genCell, std::vector&lt; vtkSmartPointer&lt; vtkDoubleArray &gt;&gt; &amp;dasSourceToPoint, std::vector&lt; vtkSmartPointer&lt; vtkDoubleArray &gt;&gt; &amp;dasTarget)</td></tr>
<tr class="separator:ad4b311809f5753222fec9190e3df2d0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69de70d9c48783ae2254e97a1b534492"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFETransfer.html#a69de70d9c48783ae2254e97a1b534492">run</a> (const std::vector&lt; std::string &gt; &amp;newnames=std::vector&lt; std::string &gt;()) override</td></tr>
<tr class="memdesc:a69de70d9c48783ae2254e97a1b534492"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer all cell and point data from source to target.  <a href="#a69de70d9c48783ae2254e97a1b534492">More...</a><br /></td></tr>
<tr class="separator:a69de70d9c48783ae2254e97a1b534492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7303d7ff68b2015126107370344809e1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransferBase.html#a7303d7ff68b2015126107370344809e1">transferPointData</a> (const std::vector&lt; std::string &gt; &amp;arrayNames, const std::vector&lt; std::string &gt; &amp;newnames=std::vector&lt; std::string &gt;())</td></tr>
<tr class="memdesc:a7303d7ff68b2015126107370344809e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer point data with given field names from source to target.  <a href="#a7303d7ff68b2015126107370344809e1">More...</a><br /></td></tr>
<tr class="separator:a7303d7ff68b2015126107370344809e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a895c9178705a566a3b04db3f82cfb71f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransferBase.html#a895c9178705a566a3b04db3f82cfb71f">transferCellData</a> (const std::vector&lt; std::string &gt; &amp;arrayNames, const std::vector&lt; std::string &gt; &amp;newnames=std::vector&lt; std::string &gt;())</td></tr>
<tr class="memdesc:a895c9178705a566a3b04db3f82cfb71f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer cell data with given field names from source to target.  <a href="#a895c9178705a566a3b04db3f82cfb71f">More...</a><br /></td></tr>
<tr class="separator:a895c9178705a566a3b04db3f82cfb71f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a893d10a193ded453624136d817cc59fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransferBase.html#a893d10a193ded453624136d817cc59fb">setCheckQual</a> (bool x)</td></tr>
<tr class="separator:a893d10a193ded453624136d817cc59fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afea8c3019d37f62b97c7968675d1f90f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransferBase.html#afea8c3019d37f62b97c7968675d1f90f">setContBool</a> (bool x)</td></tr>
<tr class="separator:afea8c3019d37f62b97c7968675d1f90f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a6dbac9ab6b68ab1b7f37a26b15558f1d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classFETransfer.html">FETransfer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFETransfer.html#a6dbac9ab6b68ab1b7f37a26b15558f1d">Create</a> (<a class="el" href="classmeshBase.html">meshBase</a> *<a class="el" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>, <a class="el" href="classmeshBase.html">meshBase</a> *<a class="el" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>)</td></tr>
<tr class="separator:a6dbac9ab6b68ab1b7f37a26b15558f1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6a42f7d1a7e6ca67f4a728ede586721"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; <a class="el" href="classFETransfer.html">FETransfer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFETransfer.html#ab6a42f7d1a7e6ca67f4a728ede586721">CreateShared</a> (<a class="el" href="classmeshBase.html">meshBase</a> *<a class="el" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>, <a class="el" href="classmeshBase.html">meshBase</a> *<a class="el" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>)</td></tr>
<tr class="separator:ab6a42f7d1a7e6ca67f4a728ede586721"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a081539dabcfd137a21e8f23fc93b3350"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmeshBase.html">meshBase</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a></td></tr>
<tr class="separator:a081539dabcfd137a21e8f23fc93b3350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a005cb43ba64cf8f05332213faac510ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmeshBase.html">meshBase</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a></td></tr>
<tr class="separator:a005cb43ba64cf8f05332213faac510ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4ee5da9e11a9b9399c87f483ac08c78"><td class="memItemLeft" align="right" valign="top">vtkSmartPointer&lt; vtkStaticCellLocator &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransferBase.html#af4ee5da9e11a9b9399c87f483ac08c78">srcCellLocator</a> = nullptr</td></tr>
<tr class="separator:af4ee5da9e11a9b9399c87f483ac08c78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b967b45ee0650af67a31e83e54a583"><td class="memItemLeft" align="right" valign="top">vtkSmartPointer&lt; vtkStaticCellLocator &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransferBase.html#a21b967b45ee0650af67a31e83e54a583">trgCellLocator</a> = nullptr</td></tr>
<tr class="separator:a21b967b45ee0650af67a31e83e54a583"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a267817d89e010c60ffabc4068245220d"><td class="memItemLeft" align="right" valign="top">vtkSmartPointer&lt; vtkStaticPointLocator &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransferBase.html#a267817d89e010c60ffabc4068245220d">srcPointLocator</a> = nullptr</td></tr>
<tr class="separator:a267817d89e010c60ffabc4068245220d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a312af64f5e5eaaef9611f0b78deba6a6"><td class="memItemLeft" align="right" valign="top">vtkSmartPointer&lt; vtkStaticPointLocator &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransferBase.html#a312af64f5e5eaaef9611f0b78deba6a6">trgPointLocator</a> = nullptr</td></tr>
<tr class="separator:a312af64f5e5eaaef9611f0b78deba6a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a700bb47c5d9143a55964c07905c156de"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransferBase.html#a700bb47c5d9143a55964c07905c156de">checkQual</a></td></tr>
<tr class="separator:a700bb47c5d9143a55964c07905c156de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a734a96914159ae8a287289e7b507e3ac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransferBase.html#a734a96914159ae8a287289e7b507e3ac">continuous</a></td></tr>
<tr class="separator:a734a96914159ae8a287289e7b507e3ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d0ed999668baac0dd831f5cb75ed076"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransferBase.html#a3d0ed999668baac0dd831f5cb75ed076">c2cTrnsDistTol</a></td></tr>
<tr class="separator:a3d0ed999668baac0dd831f5cb75ed076"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a821c461517039cd5dfb7eb64e1eb10c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFETransfer.html#a821c461517039cd5dfb7eb64e1eb10c6">getClosestSourceCell</a> (double x[3], bool flip, vtkIdType &amp;<a class="el" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>, vtkSmartPointer&lt; vtkGenericCell &gt; closestCell, double closestPoint[3], int &amp;subId, double &amp;minDist2, double *&amp;weights)</td></tr>
<tr class="memdesc:a821c461517039cd5dfb7eb64e1eb10c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread safe implementation using static point locator.  <a href="#a821c461517039cd5dfb7eb64e1eb10c6">More...</a><br /></td></tr>
<tr class="separator:a821c461517039cd5dfb7eb64e1eb10c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>

<p>Inherits <a class="el" href="classTransferBase.html">TransferBase</a>.</p>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a26ec435b16ac77beb563428fffec8ea4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26ec435b16ac77beb563428fffec8ea4">&#9670;&nbsp;</a></span>FETransfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FETransfer::FETransfer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmeshBase.html">meshBase</a> *&#160;</td>
          <td class="paramname"><em>_source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmeshBase.html">meshBase</a> *&#160;</td>
          <td class="paramname"><em>_target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="FETransfer_8C_source.html#l00044">44</a> of file <a class="el" href="FETransfer_8C_source.html">FETransfer.C</a>.</p>

<p class="reference">References <a class="el" href="meshBase_8H_source.html#l00308">meshBase::getDataSet()</a>, <a class="el" href="geoMeshFactory_8C_source.html#l00116">NEM::MSH::New()</a>, <a class="el" href="TransferBase_8H_source.html#l00105">TransferBase::source</a>, <a class="el" href="TransferBase_8H_source.html#l00108">TransferBase::srcCellLocator</a>, <a class="el" href="TransferBase_8H_source.html#l00111">TransferBase::srcPointLocator</a>, <a class="el" href="TransferBase_8H_source.html#l00106">TransferBase::target</a>, <a class="el" href="TransferBase_8H_source.html#l00109">TransferBase::trgCellLocator</a>, and <a class="el" href="TransferBase_8H_source.html#l00112">TransferBase::trgPointLocator</a>.</p>
<div class="fragment"><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                                                           {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a> = _source;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a> = _target;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="comment">// since we are deprecating meshBase</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="comment">// srcPointLocator = source-&gt;buildStaticPointLocator();</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <a class="code" href="classTransferBase.html#a267817d89e010c60ffabc4068245220d">srcPointLocator</a> = <a class="code" href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">vtkSmartPointer&lt;vtkStaticPointLocator&gt;::New</a>();</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="classTransferBase.html#a267817d89e010c60ffabc4068245220d">srcPointLocator</a>-&gt;SetDataSet(<a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>());</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <a class="code" href="classTransferBase.html#a267817d89e010c60ffabc4068245220d">srcPointLocator</a>-&gt;BuildLocator();</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="comment">// trgPointLocator = target-&gt;buildStaticPointLocator();</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <a class="code" href="classTransferBase.html#a312af64f5e5eaaef9611f0b78deba6a6">trgPointLocator</a> = <a class="code" href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">vtkSmartPointer&lt;vtkStaticPointLocator&gt;::New</a>();</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <a class="code" href="classTransferBase.html#a312af64f5e5eaaef9611f0b78deba6a6">trgPointLocator</a>-&gt;SetDataSet(<a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>());</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="classTransferBase.html#a312af64f5e5eaaef9611f0b78deba6a6">trgPointLocator</a>-&gt;BuildLocator();</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="comment">// srcCellLocator = source-&gt;buildStaticCellLocator();</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <a class="code" href="classTransferBase.html#af4ee5da9e11a9b9399c87f483ac08c78">srcCellLocator</a> = <a class="code" href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">vtkSmartPointer&lt;vtkStaticCellLocator&gt;::New</a>();</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <a class="code" href="classTransferBase.html#af4ee5da9e11a9b9399c87f483ac08c78">srcCellLocator</a>-&gt;SetDataSet(<a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>());</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <a class="code" href="classTransferBase.html#af4ee5da9e11a9b9399c87f483ac08c78">srcCellLocator</a>-&gt;BuildLocator();</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="comment">// trgCellLocator = target-&gt;buildStaticCellLocator();</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <a class="code" href="classTransferBase.html#a21b967b45ee0650af67a31e83e54a583">trgCellLocator</a> = <a class="code" href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">vtkSmartPointer&lt;vtkStaticCellLocator&gt;::New</a>();</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <a class="code" href="classTransferBase.html#a21b967b45ee0650af67a31e83e54a583">trgCellLocator</a>-&gt;SetDataSet(<a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>());</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <a class="code" href="classTransferBase.html#a21b967b45ee0650af67a31e83e54a583">trgCellLocator</a>-&gt;BuildLocator();</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keyword">auto</span> sourceCellTypes = <a class="code" href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">vtkSmartPointer&lt;vtkCellTypes&gt;::New</a>();</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keyword">auto</span> targetCellTypes = <a class="code" href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">vtkSmartPointer&lt;vtkCellTypes&gt;::New</a>();</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;FETransfer constructed&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div><div class="ttc" id="namespaceNEM_1_1MSH_html_a6dec3dd9e4a5682417877ae516d7fce8"><div class="ttname"><a href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">NEM::MSH::New</a></div><div class="ttdeci">geoMeshBase * New(MeshType meshType)</div><div class="ttdoc">Create a new mesh object. </div><div class="ttdef"><b>Definition:</b> <a href="geoMeshFactory_8C_source.html#l00116">geoMeshFactory.C:116</a></div></div>
<div class="ttc" id="classTransferBase_html_a005cb43ba64cf8f05332213faac510ad"><div class="ttname"><a href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">TransferBase::target</a></div><div class="ttdeci">meshBase * target</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00106">TransferBase.H:106</a></div></div>
<div class="ttc" id="classmeshBase_html_a68db40d033ed2be7c610e8ee1d2b9137"><div class="ttname"><a href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">meshBase::getDataSet</a></div><div class="ttdeci">vtkSmartPointer&lt; vtkDataSet &gt; getDataSet() const</div><div class="ttdoc">get this meshes&amp;#39; dataSet </div><div class="ttdef"><b>Definition:</b> <a href="meshBase_8H_source.html#l00308">meshBase.H:308</a></div></div>
<div class="ttc" id="classTransferBase_html_af4ee5da9e11a9b9399c87f483ac08c78"><div class="ttname"><a href="classTransferBase.html#af4ee5da9e11a9b9399c87f483ac08c78">TransferBase::srcCellLocator</a></div><div class="ttdeci">vtkSmartPointer&lt; vtkStaticCellLocator &gt; srcCellLocator</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00108">TransferBase.H:108</a></div></div>
<div class="ttc" id="classTransferBase_html_a21b967b45ee0650af67a31e83e54a583"><div class="ttname"><a href="classTransferBase.html#a21b967b45ee0650af67a31e83e54a583">TransferBase::trgCellLocator</a></div><div class="ttdeci">vtkSmartPointer&lt; vtkStaticCellLocator &gt; trgCellLocator</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00109">TransferBase.H:109</a></div></div>
<div class="ttc" id="classTransferBase_html_a267817d89e010c60ffabc4068245220d"><div class="ttname"><a href="classTransferBase.html#a267817d89e010c60ffabc4068245220d">TransferBase::srcPointLocator</a></div><div class="ttdeci">vtkSmartPointer&lt; vtkStaticPointLocator &gt; srcPointLocator</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00111">TransferBase.H:111</a></div></div>
<div class="ttc" id="classTransferBase_html_a312af64f5e5eaaef9611f0b78deba6a6"><div class="ttname"><a href="classTransferBase.html#a312af64f5e5eaaef9611f0b78deba6a6">TransferBase::trgPointLocator</a></div><div class="ttdeci">vtkSmartPointer&lt; vtkStaticPointLocator &gt; trgPointLocator</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00112">TransferBase.H:112</a></div></div>
<div class="ttc" id="classTransferBase_html_a081539dabcfd137a21e8f23fc93b3350"><div class="ttname"><a href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">TransferBase::source</a></div><div class="ttdeci">meshBase * source</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00105">TransferBase.H:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a335c0cf90a57e2de3fae595fdf9ab3e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a335c0cf90a57e2de3fae595fdf9ab3e2">&#9670;&nbsp;</a></span>~FETransfer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FETransfer::~FETransfer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="FETransfer_8H_source.html#l00042">42</a> of file <a class="el" href="FETransfer_8H_source.html">FETransfer.H</a>.</p>
<div class="fragment"><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{ std::cout &lt;&lt; <span class="stringliteral">&quot;FETransfer destroyed&quot;</span> &lt;&lt; std::endl; }</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6dbac9ab6b68ab1b7f37a26b15558f1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dbac9ab6b68ab1b7f37a26b15558f1d">&#9670;&nbsp;</a></span>Create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classFETransfer.html">FETransfer</a>* FETransfer::Create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmeshBase.html">meshBase</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmeshBase.html">meshBase</a> *&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="FETransfer_8H_source.html#l00045">45</a> of file <a class="el" href="FETransfer_8H_source.html">FETransfer.H</a>.</p>

<p class="reference">Referenced by <a class="el" href="FETransfer_8H_source.html#l00049">CreateShared()</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                                                                {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classFETransfer.html#a26ec435b16ac77beb563428fffec8ea4">FETransfer</a>(source, target);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  }</div><div class="ttc" id="classFETransfer_html_a26ec435b16ac77beb563428fffec8ea4"><div class="ttname"><a href="classFETransfer.html#a26ec435b16ac77beb563428fffec8ea4">FETransfer::FETransfer</a></div><div class="ttdeci">FETransfer(meshBase *_source, meshBase *_target)</div><div class="ttdef"><b>Definition:</b> <a href="FETransfer_8C_source.html#l00044">FETransfer.C:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab6a42f7d1a7e6ca67f4a728ede586721"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6a42f7d1a7e6ca67f4a728ede586721">&#9670;&nbsp;</a></span>CreateShared()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::shared_ptr&lt;<a class="el" href="classFETransfer.html">FETransfer</a>&gt; FETransfer::CreateShared </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmeshBase.html">meshBase</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmeshBase.html">meshBase</a> *&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="FETransfer_8H_source.html#l00049">49</a> of file <a class="el" href="FETransfer_8H_source.html">FETransfer.H</a>.</p>

<p class="reference">References <a class="el" href="FETransfer_8H_source.html#l00045">Create()</a>, <a class="el" href="classTransferBase.html#a1b031a80ac6d2414a2cec620ab4c7c0c">TransferBase::run()</a>, <a class="el" href="classTransferBase.html#aaeb1acda570f4ca600d8b826ac568ea0">TransferBase::transferCellData()</a>, and <a class="el" href="classTransferBase.html#a463735b096cf4db9ae70cb7d8f64d944">TransferBase::transferPointData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="TransferDriver_8C_source.html#l00107">NEM::DRV::TransferDriver::CreateTransferObject()</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                                                    {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">return</span> std::shared_ptr&lt;FETransfer&gt;(<a class="code" href="classFETransfer.html#a6dbac9ab6b68ab1b7f37a26b15558f1d">FETransfer::Create</a>(source, target));</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  }</div><div class="ttc" id="classFETransfer_html_a6dbac9ab6b68ab1b7f37a26b15558f1d"><div class="ttname"><a href="classFETransfer.html#a6dbac9ab6b68ab1b7f37a26b15558f1d">FETransfer::Create</a></div><div class="ttdeci">static FETransfer * Create(meshBase *source, meshBase *target)</div><div class="ttdef"><b>Definition:</b> <a href="FETransfer_8H_source.html#l00045">FETransfer.H:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a821c461517039cd5dfb7eb64e1eb10c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a821c461517039cd5dfb7eb64e1eb10c6">&#9670;&nbsp;</a></span>getClosestSourceCell()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FETransfer::getClosestSourceCell </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vtkIdType &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vtkSmartPointer&lt; vtkGenericCell &gt;&#160;</td>
          <td class="paramname"><em>closestCell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>closestPoint</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>subId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>minDist2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&amp;&#160;</td>
          <td class="paramname"><em>weights</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="FETransfer_8C_source.html#l00527">527</a> of file <a class="el" href="FETransfer_8C_source.html">FETransfer.C</a>.</p>

<p class="reference">References <a class="el" href="geoMeshFactory_8C_source.html#l00116">NEM::MSH::New()</a>, <a class="el" href="TransferBase_8H_source.html#l00105">TransferBase::source</a>, <a class="el" href="TransferBase_8H_source.html#l00108">TransferBase::srcCellLocator</a>, <a class="el" href="TransferBase_8H_source.html#l00106">TransferBase::target</a>, and <a class="el" href="TransferBase_8H_source.html#l00109">TransferBase::trgCellLocator</a>.</p>

<p class="reference">Referenced by <a class="el" href="FETransfer_8C_source.html#l00274">transferCellData()</a>, and <a class="el" href="FETransfer_8C_source.html#l00225">transferPointData()</a>.</p>
<div class="fragment"><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                                                    {</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keyword">auto</span> locator = flip ? <a class="code" href="classTransferBase.html#a21b967b45ee0650af67a31e83e54a583">trgCellLocator</a> : <a class="code" href="classTransferBase.html#af4ee5da9e11a9b9399c87f483ac08c78">srcCellLocator</a>;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="keyword">auto</span> localSource = flip ? <a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a> : <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="comment">// using fast builtin locator findcell method</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordtype">double</span> pcoords[3];</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  weights = <span class="keyword">new</span> <span class="keywordtype">double</span>[20];</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keywordtype">id</span> = locator-&gt;FindCell(x, 1e-10, closestCell, pcoords, weights);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  weights = <span class="keyword">new</span> <span class="keywordtype">double</span>[closestCell-&gt;GetNumberOfPoints()];</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  closestCell-&gt;EvaluatePosition(x, closestPoint, subId, pcoords, minDist2,</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                                weights);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="comment">// if failed try searching</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="comment">// TODO: find a better way to compute initial bound</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keywordtype">double</span> bound = 1e-3;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">id</span> &lt; 0) {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">while</span> (bound &lt; 1e+3) {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      <span class="keywordtype">double</span> bbox[6] = {x[0] - bound, x[0] + bound, x[1] - bound,</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                        x[1] + bound, x[2] - bound, x[2] + bound};</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <span class="keywordtype">int</span> subId;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      <span class="keywordtype">double</span> pcoords[3];</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <span class="keyword">auto</span> cellIds = <a class="code" href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">vtkSmartPointer&lt;vtkIdList&gt;::New</a>();</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      locator-&gt;FindCellsWithinBounds(bbox, cellIds);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; cellIds-&gt;GetNumberOfIds(); ++i) {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordtype">id</span> = cellIds-&gt;GetId(i);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        localSource-&gt;getDataSet()-&gt;GetCell(<span class="keywordtype">id</span>, closestCell);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        weights = <span class="keyword">new</span> <span class="keywordtype">double</span>[closestCell-&gt;GetNumberOfPoints()];</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        closestCell-&gt;EvaluatePosition(x, closestPoint, subId, pcoords, minDist2,</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                                      weights);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">if</span> (minDist2 &lt; 1e-9) {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;          <span class="keywordflow">return</span>;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        }</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      }</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      bound *= 10;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    }</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">id</span> &lt; 0) {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;Could not find containing cell for point : &quot;</span> &lt;&lt; x[0] &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;              &lt;&lt; x[1] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; x[2] &lt;&lt; std::endl;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    closestCell = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    minDist2 = vtkMath::Inf();</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">throw</span>;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  }</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;}</div><div class="ttc" id="namespaceNEM_1_1MSH_html_a6dec3dd9e4a5682417877ae516d7fce8"><div class="ttname"><a href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">NEM::MSH::New</a></div><div class="ttdeci">geoMeshBase * New(MeshType meshType)</div><div class="ttdoc">Create a new mesh object. </div><div class="ttdef"><b>Definition:</b> <a href="geoMeshFactory_8C_source.html#l00116">geoMeshFactory.C:116</a></div></div>
<div class="ttc" id="classTransferBase_html_a005cb43ba64cf8f05332213faac510ad"><div class="ttname"><a href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">TransferBase::target</a></div><div class="ttdeci">meshBase * target</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00106">TransferBase.H:106</a></div></div>
<div class="ttc" id="classTransferBase_html_af4ee5da9e11a9b9399c87f483ac08c78"><div class="ttname"><a href="classTransferBase.html#af4ee5da9e11a9b9399c87f483ac08c78">TransferBase::srcCellLocator</a></div><div class="ttdeci">vtkSmartPointer&lt; vtkStaticCellLocator &gt; srcCellLocator</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00108">TransferBase.H:108</a></div></div>
<div class="ttc" id="classTransferBase_html_a21b967b45ee0650af67a31e83e54a583"><div class="ttname"><a href="classTransferBase.html#a21b967b45ee0650af67a31e83e54a583">TransferBase::trgCellLocator</a></div><div class="ttdeci">vtkSmartPointer&lt; vtkStaticCellLocator &gt; trgCellLocator</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00109">TransferBase.H:109</a></div></div>
<div class="ttc" id="classTransferBase_html_a081539dabcfd137a21e8f23fc93b3350"><div class="ttname"><a href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">TransferBase::source</a></div><div class="ttdeci">meshBase * source</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00105">TransferBase.H:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a69de70d9c48783ae2254e97a1b534492"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69de70d9c48783ae2254e97a1b534492">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FETransfer::run </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>newnames</em> = <code>std::vector&lt;std::string&gt;()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classTransferBase.html#a1b031a80ac6d2414a2cec620ab4c7c0c">TransferBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="FETransfer_8C_source.html#l00488">488</a> of file <a class="el" href="FETransfer_8C_source.html">FETransfer.C</a>.</p>

<p class="reference">References <a class="el" href="meshBase_8H_source.html#l00308">meshBase::getDataSet()</a>, <a class="el" href="TransferBase_8H_source.html#l00105">TransferBase::source</a>, <a class="el" href="TransferBase_8H_source.html#l00106">TransferBase::target</a>, <a class="el" href="FETransfer_8C_source.html#l00274">transferCellData()</a>, and <a class="el" href="FETransfer_8C_source.html#l00084">transferPointData()</a>.</p>
<div class="fragment"><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                                                        {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="keywordflow">if</span> (!(<a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a> &amp;&amp; <a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>)) {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;source and target meshes must be initialized&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    exit(1);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  }</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="comment">// transferring point data</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keywordtype">int</span> numArr = <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>()-&gt;GetPointData()-&gt;GetNumberOfArrays();</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="keywordflow">if</span> (numArr &gt; 0) {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    std::vector&lt;int&gt; arrayIDs(numArr);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Transferring point arrays: &quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numArr; ++i) {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      arrayIDs[i] = i;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>()-&gt;GetPointData()-&gt;GetArrayName(i)</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    }</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <a class="code" href="classFETransfer.html#ab797ca0634be77b07be086c8bb069a74">transferPointData</a>(arrayIDs, newnames);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;no point data found&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  }</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="comment">// transferring cell data</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  numArr = <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>()-&gt;GetCellData()-&gt;GetNumberOfArrays();</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="keywordflow">if</span> (numArr &gt; 0) {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    std::vector&lt;int&gt; arrayIDs(numArr);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Transferring cell arrays: &quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numArr; ++i) {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      arrayIDs[i] = i;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>()-&gt;GetCellData()-&gt;GetArrayName(i)</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    }</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="classFETransfer.html#a9fe2326a8943ce57bc0fa271631ece2b">transferCellData</a>(arrayIDs, newnames);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;no cell data found&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;}</div><div class="ttc" id="classTransferBase_html_a005cb43ba64cf8f05332213faac510ad"><div class="ttname"><a href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">TransferBase::target</a></div><div class="ttdeci">meshBase * target</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00106">TransferBase.H:106</a></div></div>
<div class="ttc" id="classmeshBase_html_a68db40d033ed2be7c610e8ee1d2b9137"><div class="ttname"><a href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">meshBase::getDataSet</a></div><div class="ttdeci">vtkSmartPointer&lt; vtkDataSet &gt; getDataSet() const</div><div class="ttdoc">get this meshes&amp;#39; dataSet </div><div class="ttdef"><b>Definition:</b> <a href="meshBase_8H_source.html#l00308">meshBase.H:308</a></div></div>
<div class="ttc" id="classFETransfer_html_a9fe2326a8943ce57bc0fa271631ece2b"><div class="ttname"><a href="classFETransfer.html#a9fe2326a8943ce57bc0fa271631ece2b">FETransfer::transferCellData</a></div><div class="ttdeci">int transferCellData(const std::vector&lt; int &gt; &amp;arrayIDs, const std::vector&lt; std::string &gt; &amp;newnames=std::vector&lt; std::string &gt;()) override</div><div class="ttdoc">Transfer cell data from source mesh to target The algorithm is as follows: 1) Convert the cell data o...</div><div class="ttdef"><b>Definition:</b> <a href="FETransfer_8C_source.html#l00274">FETransfer.C:274</a></div></div>
<div class="ttc" id="classFETransfer_html_ab797ca0634be77b07be086c8bb069a74"><div class="ttname"><a href="classFETransfer.html#ab797ca0634be77b07be086c8bb069a74">FETransfer::transferPointData</a></div><div class="ttdeci">int transferPointData(const std::vector&lt; int &gt; &amp;arrayIDs, const std::vector&lt; std::string &gt; &amp;newnames=std::vector&lt; std::string &gt;()) override</div><div class="ttdoc">Transfers point data with arrayID from source mesh to target The algorithm is as follows; 1) For each...</div><div class="ttdef"><b>Definition:</b> <a href="FETransfer_8C_source.html#l00084">FETransfer.C:84</a></div></div>
<div class="ttc" id="classTransferBase_html_a081539dabcfd137a21e8f23fc93b3350"><div class="ttname"><a href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">TransferBase::source</a></div><div class="ttdeci">meshBase * source</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00105">TransferBase.H:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a893d10a193ded453624136d817cc59fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a893d10a193ded453624136d817cc59fb">&#9670;&nbsp;</a></span>setCheckQual()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TransferBase::setCheckQual </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TransferBase_8H_source.html#l00100">100</a> of file <a class="el" href="TransferBase_8H_source.html">TransferBase.H</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;{ <a class="code" href="classTransferBase.html#a700bb47c5d9143a55964c07905c156de">checkQual</a> = x; }</div><div class="ttc" id="classTransferBase_html_a700bb47c5d9143a55964c07905c156de"><div class="ttname"><a href="classTransferBase.html#a700bb47c5d9143a55964c07905c156de">TransferBase::checkQual</a></div><div class="ttdeci">bool checkQual</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00114">TransferBase.H:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afea8c3019d37f62b97c7968675d1f90f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afea8c3019d37f62b97c7968675d1f90f">&#9670;&nbsp;</a></span>setContBool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TransferBase::setContBool </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TransferBase_8H_source.html#l00102">102</a> of file <a class="el" href="TransferBase_8H_source.html">TransferBase.H</a>.</p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{ <a class="code" href="classTransferBase.html#a734a96914159ae8a287289e7b507e3ac">continuous</a> = x; }</div><div class="ttc" id="classTransferBase_html_a734a96914159ae8a287289e7b507e3ac"><div class="ttname"><a href="classTransferBase.html#a734a96914159ae8a287289e7b507e3ac">TransferBase::continuous</a></div><div class="ttdeci">bool continuous</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00115">TransferBase.H:115</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a895c9178705a566a3b04db3f82cfb71f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a895c9178705a566a3b04db3f82cfb71f">&#9670;&nbsp;</a></span>transferCellData() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TransferBase::transferCellData </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>arrayNames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>newnames</em> = <code>std::vector&lt;std::string&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arrayIDs</td><td>array of array names to specify which fields to transfer </td></tr>
    <tr><td class="paramname">newnames</td><td>optional array of names to be applied to transferred fields </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 upon completion </dd></dl>

<p class="definition">Definition at line <a class="el" href="TransferBase_8C_source.html#l00047">47</a> of file <a class="el" href="TransferBase_8C_source.html">TransferBase.C</a>.</p>

<p class="reference">References <a class="el" href="TransferBase_8C_source.html#l00056">TransferBase::getArrayIDs()</a>, <a class="el" href="meshBase_8H_source.html#l00308">meshBase::getDataSet()</a>, <a class="el" href="TransferBase_8H_source.html#l00105">TransferBase::source</a>, and <a class="el" href="classTransferBase.html#aaeb1acda570f4ca600d8b826ac568ea0">TransferBase::transferCellData()</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;{</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  vtkCellData* cellData = <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>()-&gt;GetCellData();</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  std::vector&lt;int&gt; arrayIDs = <a class="code" href="classTransferBase.html#acc0dd4e7b696b6796d57a6fd71a3a58f">getArrayIDs</a>(arrayNames, cellData);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classTransferBase.html#aaeb1acda570f4ca600d8b826ac568ea0">transferCellData</a>(arrayIDs, newnames);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div><div class="ttc" id="classTransferBase_html_aaeb1acda570f4ca600d8b826ac568ea0"><div class="ttname"><a href="classTransferBase.html#aaeb1acda570f4ca600d8b826ac568ea0">TransferBase::transferCellData</a></div><div class="ttdeci">virtual int transferCellData(const std::vector&lt; int &gt; &amp;arrayIDs, const std::vector&lt; std::string &gt; &amp;newnames=std::vector&lt; std::string &gt;())=0</div><div class="ttdoc">Transfer cell data with given ids from source to target. </div></div>
<div class="ttc" id="classmeshBase_html_a68db40d033ed2be7c610e8ee1d2b9137"><div class="ttname"><a href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">meshBase::getDataSet</a></div><div class="ttdeci">vtkSmartPointer&lt; vtkDataSet &gt; getDataSet() const</div><div class="ttdoc">get this meshes&amp;#39; dataSet </div><div class="ttdef"><b>Definition:</b> <a href="meshBase_8H_source.html#l00308">meshBase.H:308</a></div></div>
<div class="ttc" id="classTransferBase_html_acc0dd4e7b696b6796d57a6fd71a3a58f"><div class="ttname"><a href="classTransferBase.html#acc0dd4e7b696b6796d57a6fd71a3a58f">TransferBase::getArrayIDs</a></div><div class="ttdeci">std::vector&lt; int &gt; getArrayIDs(const std::vector&lt; std::string &gt; &amp;arrayNames, vtkFieldData *fieldData)</div><div class="ttdoc">given array names and field data, return vector of corresponding array ids in the field data ...</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8C_source.html#l00056">TransferBase.C:56</a></div></div>
<div class="ttc" id="classTransferBase_html_a081539dabcfd137a21e8f23fc93b3350"><div class="ttname"><a href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">TransferBase::source</a></div><div class="ttdeci">meshBase * source</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00105">TransferBase.H:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9fe2326a8943ce57bc0fa271631ece2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fe2326a8943ce57bc0fa271631ece2b">&#9670;&nbsp;</a></span>transferCellData() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FETransfer::transferCellData </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>arrayIDs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>newnames</em> = <code>std::vector&lt;std::string&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<ul>
<li>cell data is assumed to be prescribed at cell centers 2) Compute the centers of cell in the target mesh 3) Transfer the converted cell-point data from the source mesh to the cell centers of the target mesh using the runPD methods <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arrayIDs</td><td>array of array ids for transfer </td></tr>
    <tr><td class="paramname">newnames</td><td>optional array of names for transferred data: newnames[i] specifies the transferred array name in the target at arrayId[i] </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p>Implements <a class="el" href="classTransferBase.html#aaeb1acda570f4ca600d8b826ac568ea0">TransferBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="FETransfer_8C_source.html#l00274">274</a> of file <a class="el" href="FETransfer_8C_source.html">FETransfer.C</a>.</p>

<p class="reference">References <a class="el" href="TransferBase_8H_source.html#l00116">TransferBase::c2cTrnsDistTol</a>, <a class="el" href="TransferBase_8H_source.html#l00115">TransferBase::continuous</a>, <a class="el" href="classmeshBase.html#a109bec0569e0b3a2a95d21292ffc8a07">meshBase::getCellCenter()</a>, <a class="el" href="FETransfer_8C_source.html#l00527">getClosestSourceCell()</a>, <a class="el" href="meshBase_8H_source.html#l00308">meshBase::getDataSet()</a>, <a class="el" href="meshBase_8H_source.html#l00550">meshBase::getNumberOfCells()</a>, <a class="el" href="meshBase_8H_source.html#l00545">meshBase::getNumberOfPoints()</a>, <a class="el" href="classmeshBase.html#abf2e6aee4cea56d61f71fcdfa2ef3ef7">meshBase::getPoint()</a>, <a class="el" href="inpGeoMesh_8C_source.html#l00128">id</a>, <a class="el" href="AuxiliaryFunctions_8H_source.html#l00239">nemAux::l2_Norm()</a>, <a class="el" href="geoMeshFactory_8C_source.html#l00116">NEM::MSH::New()</a>, <a class="el" href="TransferBase_8H_source.html#l00105">TransferBase::source</a>, <a class="el" href="TransferBase_8H_source.html#l00106">TransferBase::target</a>, and <a class="el" href="meshBase_8H_source.html#l00391">meshBase::unsetCellDataArray()</a>.</p>

<p class="reference">Referenced by <a class="el" href="FETransfer_8C_source.html#l00488">run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                                                                       {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">if</span> (arrayIDs.empty()) {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;no arrays selected for interpolation&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    exit(1);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  vtkSmartPointer&lt;vtkCellData&gt; cd = <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>()-&gt;GetCellData();</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="comment">// clean target data of duplicate names if no newnames specified</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">if</span> (newnames.empty()) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordtype">int</span> numArr = cd-&gt;GetNumberOfArrays();</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> arrayID : arrayIDs) {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="keywordflow">if</span> (arrayID &gt;= numArr) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;ERROR: arrayID is out of bounds\n&quot;</span>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;There are &quot;</span> &lt;&lt; numArr &lt;&lt; <span class="stringliteral">&quot; cell data arrays&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        exit(1);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      <a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#a779b7950336761420c1bdef01f1633d0">unsetCellDataArray</a>(cd-&gt;GetArrayName(arrayID));</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  }</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  std::vector&lt;vtkSmartPointer&lt;vtkDataArray&gt;&gt; dasSource(arrayIDs.size());</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  std::vector&lt;vtkSmartPointer&lt;vtkDoubleArray&gt;&gt; dasTarget(arrayIDs.size());</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; arrayIDs.size(); ++<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>) {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">// get desired cell data array from source to be transferred to target</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    vtkSmartPointer&lt;vtkDataArray&gt; daSource = cd-&gt;GetArray(arrayIDs[<span class="keywordtype">id</span>]);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="comment">// get tuple length of given data</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordtype">int</span> numComponent = daSource-&gt;GetNumberOfComponents();</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">// declare data array to be populated with values at target points</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    vtkSmartPointer&lt;vtkDoubleArray&gt; daTarget =</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <a class="code" href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">vtkSmartPointer&lt;vtkDoubleArray&gt;::New</a>();</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="comment">// names and sizing</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">if</span> (newnames.empty())</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      daTarget-&gt;SetName(cd-&gt;GetArrayName(arrayIDs[<span class="keywordtype">id</span>]));</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      daTarget-&gt;SetName(newnames[<span class="keywordtype">id</span>].c_str());</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    daTarget-&gt;SetNumberOfComponents(numComponent);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    daTarget-&gt;SetNumberOfTuples(<a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#a7ca58c6aa5aa3ccc0d04af5495eadd19">getNumberOfCells</a>());</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    dasSource[<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>] = daSource;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    dasTarget[<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>] = daTarget;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">// straight forward transfer without weighted averaging by locating target</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">// cell in source mesh and assigning cell data</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classTransferBase.html#a734a96914159ae8a287289e7b507e3ac">continuous</a>) {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Non-continuous cell data transfer invoked&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    vtkSmartPointer&lt;vtkGenericCell&gt; genCell =</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <a class="code" href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">vtkSmartPointer&lt;vtkGenericCell&gt;::New</a>();</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#a7ca58c6aa5aa3ccc0d04af5495eadd19">getNumberOfCells</a>(); ++i) {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      std::vector&lt;double&gt; targetCenter = <a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#a109bec0569e0b3a2a95d21292ffc8a07">getCellCenter</a>(i);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="comment">// id of the cell containing source mesh point</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      vtkIdType <a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="keywordtype">int</span> subId;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="keywordtype">double</span> minDist2;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="comment">// find closest point and closest cell to x</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <span class="keywordtype">double</span> closestPoint[3];</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <span class="keywordtype">double</span> *x = targetCenter.data();</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <span class="keywordtype">double</span> *weights;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <a class="code" href="classFETransfer.html#a821c461517039cd5dfb7eb64e1eb10c6">getClosestSourceCell</a>(x, <span class="keyword">false</span>, <span class="keywordtype">id</span>, genCell, closestPoint, subId, minDist2,</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                           weights);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">      srcCellLocator-&gt;FindClosestPoint(x, closestPoint, genCell, id, subId,</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">                                       minDist2);</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">                                       */</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="keywordflow">if</span> (<span class="keywordtype">id</span> &gt;= 0) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">if</span> (minDist2 &gt; <a class="code" href="classTransferBase.html#a3d0ed999668baac0dd831f5cb75ed076">c2cTrnsDistTol</a>)</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;          std::cout &lt;&lt; <span class="stringliteral">&quot;Warning: For cell at &quot;</span> &lt;&lt; x[0] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; x[1] &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                    &lt;&lt; x[2] &lt;&lt; <span class="stringliteral">&quot; closest cell point found is at &quot;</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                    &lt;&lt; closestPoint[0] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; closestPoint[1] &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                    &lt;&lt; closestPoint[2] &lt;&lt; <span class="stringliteral">&quot; with distance &quot;</span> &lt;&lt; minDist2</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;, Cell IDs: source &quot;</span> &lt;&lt; <span class="keywordtype">id</span> &lt;&lt; <span class="stringliteral">&quot; target &quot;</span> &lt;&lt; i</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                    &lt;&lt; std::endl;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; dasSource.size(); ++j) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;          <span class="keywordtype">int</span> numComponent = dasSource[j]-&gt;GetNumberOfComponents();</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;          <span class="comment">// double comps[numComponent];</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;          std::vector&lt;double&gt; comps;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;          comps.resize(numComponent, 0.);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;          dasSource[j]-&gt;GetTuple(<span class="keywordtype">id</span>, &amp;comps[0]);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;          dasTarget[j]-&gt;SetTuple(i, &amp;comps[0]);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        }</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;Could not locate target cell &quot;</span> &lt;&lt; i</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; from in the source mesh! Check the source mesh.&quot;</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                  &lt;&lt; std::endl;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        exit(1);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    }</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  } <span class="keywordflow">else</span>  <span class="comment">// transfer with weighted averaging</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Continuous cell data transfer invoked&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="comment">// ---------------------- Convert source cell data to point data -------- //</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    std::vector&lt;vtkSmartPointer&lt;vtkDoubleArray&gt;&gt; dasSourceToPoint(</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        arrayIDs.size());</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="comment">// cellId container for cells sharing a point</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    vtkSmartPointer&lt;vtkIdList&gt; cellIds = <a class="code" href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">vtkSmartPointer&lt;vtkIdList&gt;::New</a>();</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">// initializing arrays storing interpolated data</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; arrayIDs.size(); ++<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>) {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="comment">// get desired cell data array from source to be transferred to target</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      vtkSmartPointer&lt;vtkDataArray&gt; daSource = cd-&gt;GetArray(arrayIDs[<span class="keywordtype">id</span>]);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <span class="comment">// get tuple length of given data</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <span class="keywordtype">int</span> numComponent = daSource-&gt;GetNumberOfComponents();</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      <span class="comment">// initialize cellToPoint source array</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      vtkSmartPointer&lt;vtkDoubleArray&gt; daSourceToPoint =</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;          <a class="code" href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">vtkSmartPointer&lt;vtkDoubleArray&gt;::New</a>();</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      daSourceToPoint-&gt;SetNumberOfComponents(numComponent);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      daSourceToPoint-&gt;SetNumberOfTuples(<a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#aa48dff7fbe2bfa7418c9d2b0321675ac">getNumberOfPoints</a>());</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#aa48dff7fbe2bfa7418c9d2b0321675ac">getNumberOfPoints</a>(); ++i) {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="comment">// find cells sharing point i</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>()-&gt;GetPointCells(i, cellIds);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="keywordtype">int</span> numSharedCells = cellIds-&gt;GetNumberOfIds();</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordtype">double</span> totW = 0;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keywordtype">double</span> W;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="comment">// contains averaged/weighted data</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        std::vector&lt;double&gt; interps(numComponent, 0.0);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; numSharedCells; ++j) {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;          <span class="keywordtype">int</span> cellId = cellIds-&gt;GetId(j);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;          <span class="comment">// double comps[numComponent];</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;          std::vector&lt;double&gt; comps;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;          comps.resize(numComponent, 0.);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;          daSource-&gt;GetTuple(cellId, &amp;comps[0]);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;          <span class="comment">// compute distance from point to cell center</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;          W = 1. / <a class="code" href="namespacenemAux.html#a2b0fb2f4dc5cb2223cae75167c155d6b">nemAux::l2_Norm</a>(<a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#a109bec0569e0b3a2a95d21292ffc8a07">getCellCenter</a>(cellId) -</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                                   <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#abf2e6aee4cea56d61f71fcdfa2ef3ef7">getPoint</a>(i));</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;          <span class="comment">// average over shared cells, weighted by inverse distance to center</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; numComponent; ++k) {</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            interps[k] += W * comps[k];</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;          }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;          totW += W;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        }</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        interps = (1.0 / totW) * interps;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        daSourceToPoint-&gt;SetTuple(i, interps.data());</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      dasSourceToPoint[<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>] = daSourceToPoint;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="comment">// genCell used by locator</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    vtkSmartPointer&lt;vtkGenericCell&gt; genCell =</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <a class="code" href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">vtkSmartPointer&lt;vtkGenericCell&gt;::New</a>();</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#a7ca58c6aa5aa3ccc0d04af5495eadd19">getNumberOfCells</a>(); ++i) {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <a class="code" href="classFETransfer.html#a9fe2326a8943ce57bc0fa271631ece2b">transferCellData</a>(i, genCell, dasSourceToPoint, dasTarget);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; arrayIDs.size(); ++<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>) {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>()-&gt;GetCellData()-&gt;AddArray(dasTarget[<span class="keywordtype">id</span>]);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;}</div><div class="ttc" id="classTransferBase_html_a3d0ed999668baac0dd831f5cb75ed076"><div class="ttname"><a href="classTransferBase.html#a3d0ed999668baac0dd831f5cb75ed076">TransferBase::c2cTrnsDistTol</a></div><div class="ttdeci">double c2cTrnsDistTol</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00116">TransferBase.H:116</a></div></div>
<div class="ttc" id="classFETransfer_html_a821c461517039cd5dfb7eb64e1eb10c6"><div class="ttname"><a href="classFETransfer.html#a821c461517039cd5dfb7eb64e1eb10c6">FETransfer::getClosestSourceCell</a></div><div class="ttdeci">void getClosestSourceCell(double x[3], bool flip, vtkIdType &amp;id, vtkSmartPointer&lt; vtkGenericCell &gt; closestCell, double closestPoint[3], int &amp;subId, double &amp;minDist2, double *&amp;weights)</div><div class="ttdoc">Thread safe implementation using static point locator. </div><div class="ttdef"><b>Definition:</b> <a href="FETransfer_8C_source.html#l00527">FETransfer.C:527</a></div></div>
<div class="ttc" id="namespaceNEM_1_1MSH_html_a6dec3dd9e4a5682417877ae516d7fce8"><div class="ttname"><a href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">NEM::MSH::New</a></div><div class="ttdeci">geoMeshBase * New(MeshType meshType)</div><div class="ttdoc">Create a new mesh object. </div><div class="ttdef"><b>Definition:</b> <a href="geoMeshFactory_8C_source.html#l00116">geoMeshFactory.C:116</a></div></div>
<div class="ttc" id="classTransferBase_html_a005cb43ba64cf8f05332213faac510ad"><div class="ttname"><a href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">TransferBase::target</a></div><div class="ttdeci">meshBase * target</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00106">TransferBase.H:106</a></div></div>
<div class="ttc" id="classmeshBase_html_a68db40d033ed2be7c610e8ee1d2b9137"><div class="ttname"><a href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">meshBase::getDataSet</a></div><div class="ttdeci">vtkSmartPointer&lt; vtkDataSet &gt; getDataSet() const</div><div class="ttdoc">get this meshes&amp;#39; dataSet </div><div class="ttdef"><b>Definition:</b> <a href="meshBase_8H_source.html#l00308">meshBase.H:308</a></div></div>
<div class="ttc" id="classmeshBase_html_aa48dff7fbe2bfa7418c9d2b0321675ac"><div class="ttname"><a href="classmeshBase.html#aa48dff7fbe2bfa7418c9d2b0321675ac">meshBase::getNumberOfPoints</a></div><div class="ttdeci">nemId_t getNumberOfPoints() const</div><div class="ttdoc">return the number of points </div><div class="ttdef"><b>Definition:</b> <a href="meshBase_8H_source.html#l00545">meshBase.H:545</a></div></div>
<div class="ttc" id="inpGeoMesh_8C_html_a43faaccc5c27d68d65871b221434ce8e"><div class="ttname"><a href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a></div><div class="ttdeci">vtkIdType id</div><div class="ttdoc">id in .inp file </div><div class="ttdef"><b>Definition:</b> <a href="inpGeoMesh_8C_source.html#l00128">inpGeoMesh.C:128</a></div></div>
<div class="ttc" id="classmeshBase_html_a779b7950336761420c1bdef01f1633d0"><div class="ttname"><a href="classmeshBase.html#a779b7950336761420c1bdef01f1633d0">meshBase::unsetCellDataArray</a></div><div class="ttdeci">virtual void unsetCellDataArray(int arrayID)</div><div class="ttdoc">delete array with id from dataSet&amp;#39;s cell data </div><div class="ttdef"><b>Definition:</b> <a href="meshBase_8H_source.html#l00391">meshBase.H:391</a></div></div>
<div class="ttc" id="classFETransfer_html_a9fe2326a8943ce57bc0fa271631ece2b"><div class="ttname"><a href="classFETransfer.html#a9fe2326a8943ce57bc0fa271631ece2b">FETransfer::transferCellData</a></div><div class="ttdeci">int transferCellData(const std::vector&lt; int &gt; &amp;arrayIDs, const std::vector&lt; std::string &gt; &amp;newnames=std::vector&lt; std::string &gt;()) override</div><div class="ttdoc">Transfer cell data from source mesh to target The algorithm is as follows: 1) Convert the cell data o...</div><div class="ttdef"><b>Definition:</b> <a href="FETransfer_8C_source.html#l00274">FETransfer.C:274</a></div></div>
<div class="ttc" id="classmeshBase_html_a109bec0569e0b3a2a95d21292ffc8a07"><div class="ttname"><a href="classmeshBase.html#a109bec0569e0b3a2a95d21292ffc8a07">meshBase::getCellCenter</a></div><div class="ttdeci">virtual std::vector&lt; double &gt; getCellCenter(nemId_t cellID) const =0</div><div class="ttdoc">get center of a cell </div></div>
<div class="ttc" id="classTransferBase_html_a734a96914159ae8a287289e7b507e3ac"><div class="ttname"><a href="classTransferBase.html#a734a96914159ae8a287289e7b507e3ac">TransferBase::continuous</a></div><div class="ttdeci">bool continuous</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00115">TransferBase.H:115</a></div></div>
<div class="ttc" id="classmeshBase_html_a7ca58c6aa5aa3ccc0d04af5495eadd19"><div class="ttname"><a href="classmeshBase.html#a7ca58c6aa5aa3ccc0d04af5495eadd19">meshBase::getNumberOfCells</a></div><div class="ttdeci">nemId_t getNumberOfCells() const</div><div class="ttdoc">return the number of cells </div><div class="ttdef"><b>Definition:</b> <a href="meshBase_8H_source.html#l00550">meshBase.H:550</a></div></div>
<div class="ttc" id="classmeshBase_html_abf2e6aee4cea56d61f71fcdfa2ef3ef7"><div class="ttname"><a href="classmeshBase.html#abf2e6aee4cea56d61f71fcdfa2ef3ef7">meshBase::getPoint</a></div><div class="ttdeci">virtual std::vector&lt; double &gt; getPoint(nemId_t id) const =0</div><div class="ttdoc">get point with id </div></div>
<div class="ttc" id="namespacenemAux_html_a2b0fb2f4dc5cb2223cae75167c155d6b"><div class="ttname"><a href="namespacenemAux.html#a2b0fb2f4dc5cb2223cae75167c155d6b">nemAux::l2_Norm</a></div><div class="ttdeci">T l2_Norm(const std::vector&lt; T &gt; &amp;x)</div><div class="ttdef"><b>Definition:</b> <a href="AuxiliaryFunctions_8H_source.html#l00239">AuxiliaryFunctions.H:239</a></div></div>
<div class="ttc" id="classTransferBase_html_a081539dabcfd137a21e8f23fc93b3350"><div class="ttname"><a href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">TransferBase::source</a></div><div class="ttdeci">meshBase * source</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00105">TransferBase.H:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad4b311809f5753222fec9190e3df2d0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4b311809f5753222fec9190e3df2d0d">&#9670;&nbsp;</a></span>transferCellData() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FETransfer::transferCellData </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vtkSmartPointer&lt; vtkGenericCell &gt;&#160;</td>
          <td class="paramname"><em>genCell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; vtkSmartPointer&lt; vtkDoubleArray &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>dasSourceToPoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; vtkSmartPointer&lt; vtkDoubleArray &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>dasTarget</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="FETransfer_8C_source.html#l00422">422</a> of file <a class="el" href="FETransfer_8C_source.html">FETransfer.C</a>.</p>

<p class="reference">References <a class="el" href="classmeshBase.html#a109bec0569e0b3a2a95d21292ffc8a07">meshBase::getCellCenter()</a>, <a class="el" href="FETransfer_8C_source.html#l00527">getClosestSourceCell()</a>, <a class="el" href="inpGeoMesh_8C_source.html#l00128">id</a>, and <a class="el" href="TransferBase_8H_source.html#l00106">TransferBase::target</a>.</p>
<div class="fragment"><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                                                           {</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="comment">// getting point from target and setting as query</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  std::vector&lt;double&gt; targetCenter = <a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#a109bec0569e0b3a2a95d21292ffc8a07">getCellCenter</a>(i);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="comment">// id of the cell containing source mesh point</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  vtkIdType <a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keywordtype">int</span> subId;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordtype">double</span> minDist2;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="comment">// find closest point and closest cell to x</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="keywordtype">double</span> closestPoint[3];</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordtype">double</span> *x = targetCenter.data();</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keywordtype">double</span> *weights;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <a class="code" href="classFETransfer.html#a821c461517039cd5dfb7eb64e1eb10c6">getClosestSourceCell</a>(x, <span class="keyword">false</span>, <span class="keywordtype">id</span>, genCell, closestPoint, subId, minDist2,</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                       weights);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">  srcCellLocator-&gt;FindClosestPoint(x, closestPoint, genCell, id, subId,</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">                                   minDist2);</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">                                   */</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">id</span> &gt;= 0) {</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="comment">// passed to evaluate position if called</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordtype">double</span> pcoords[3];</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="comment">// parameters for interpolation</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="comment">// int pntId;</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordtype">int</span> result;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keyword">auto</span> *weights = <span class="keyword">new</span> <span class="keywordtype">double</span>[genCell-&gt;GetNumberOfPoints()];</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    result = genCell-&gt;EvaluatePosition(x, <span class="keyword">nullptr</span>, subId, pcoords, minDist2,</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                                       weights);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">if</span> (result &gt; 0) {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; dasSourceToPoint.size(); ++<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>) {</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordtype">int</span> numComponent = dasSourceToPoint[<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>]-&gt;GetNumberOfComponents();</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="keyword">auto</span> *comps = <span class="keyword">new</span> <span class="keywordtype">double</span>[numComponent];</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        std::vector&lt;double&gt; interps(numComponent, 0.0);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> m = 0; m &lt; genCell-&gt;GetNumberOfPoints(); ++m) {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;          <span class="keywordtype">int</span> pntId = genCell-&gt;GetPointId(m);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;          dasSourceToPoint[<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>]-&gt;GetTuple(pntId, comps);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> h = 0; h &lt; numComponent; ++h) {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            interps[h] += comps[h] * weights[m];</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;          }</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        }</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keyword">delete</span>[] comps;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="comment">// adding interpolated value to data of cell</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        dasTarget[<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>]-&gt;SetTuple(i, interps.data());</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result == 0) {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <span class="keyword">delete</span>[] weights;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      std::cerr</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;Could not locate point from target mesh in any cells sharing&quot;</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;          &lt;&lt; <span class="stringliteral">&quot; its nearest neighbor in the source mesh&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      exit(1);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <span class="keyword">delete</span>[] weights;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      std::cerr</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;          &lt;&lt; <span class="stringliteral">&quot;problem encountered evaluating position of point from target&quot;</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;          &lt;&lt; <span class="stringliteral">&quot; mesh with respect to cell in source mesh&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      exit(1);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    }</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;Could not locate center of cell &quot;</span> &lt;&lt; i</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; from target in source mesh&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    exit(1);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  }</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;}</div><div class="ttc" id="classFETransfer_html_a821c461517039cd5dfb7eb64e1eb10c6"><div class="ttname"><a href="classFETransfer.html#a821c461517039cd5dfb7eb64e1eb10c6">FETransfer::getClosestSourceCell</a></div><div class="ttdeci">void getClosestSourceCell(double x[3], bool flip, vtkIdType &amp;id, vtkSmartPointer&lt; vtkGenericCell &gt; closestCell, double closestPoint[3], int &amp;subId, double &amp;minDist2, double *&amp;weights)</div><div class="ttdoc">Thread safe implementation using static point locator. </div><div class="ttdef"><b>Definition:</b> <a href="FETransfer_8C_source.html#l00527">FETransfer.C:527</a></div></div>
<div class="ttc" id="classTransferBase_html_a005cb43ba64cf8f05332213faac510ad"><div class="ttname"><a href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">TransferBase::target</a></div><div class="ttdeci">meshBase * target</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00106">TransferBase.H:106</a></div></div>
<div class="ttc" id="inpGeoMesh_8C_html_a43faaccc5c27d68d65871b221434ce8e"><div class="ttname"><a href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a></div><div class="ttdeci">vtkIdType id</div><div class="ttdoc">id in .inp file </div><div class="ttdef"><b>Definition:</b> <a href="inpGeoMesh_8C_source.html#l00128">inpGeoMesh.C:128</a></div></div>
<div class="ttc" id="classmeshBase_html_a109bec0569e0b3a2a95d21292ffc8a07"><div class="ttname"><a href="classmeshBase.html#a109bec0569e0b3a2a95d21292ffc8a07">meshBase::getCellCenter</a></div><div class="ttdeci">virtual std::vector&lt; double &gt; getCellCenter(nemId_t cellID) const =0</div><div class="ttdoc">get center of a cell </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab797ca0634be77b07be086c8bb069a74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab797ca0634be77b07be086c8bb069a74">&#9670;&nbsp;</a></span>transferPointData() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FETransfer::transferPointData </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>arrayIDs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>newnames</em> = <code>std::vector&lt;std::string&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<ul>
<li>using a cell locator</li>
<li>if cell locator fails, find the nearest neighbor in the source mesh and all cells sharing this neighbor point. Check if the target point is in any of these neighboring cells 2) When the cell is identified, evaluate the weights for interpolation of the solution to the target point and perform the interpolation. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arrayIDs</td><td>array of array ids for transfer </td></tr>
    <tr><td class="paramname">newnames</td><td>optional array of names for transferred data: newnames[i] specifies the transferred array name in the target at arrayId[i] </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p>Implements <a class="el" href="classTransferBase.html#a463735b096cf4db9ae70cb7d8f64d944">TransferBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="FETransfer_8C_source.html#l00084">84</a> of file <a class="el" href="FETransfer_8C_source.html">FETransfer.C</a>.</p>

<p class="reference">References <a class="el" href="TransferBase_8H_source.html#l00114">TransferBase::checkQual</a>, <a class="el" href="AuxiliaryFunctions_8H_source.html#l00066">nemAux::Timer::elapsed()</a>, <a class="el" href="meshBase_8H_source.html#l00308">meshBase::getDataSet()</a>, <a class="el" href="meshBase_8H_source.html#l00545">meshBase::getNumberOfPoints()</a>, <a class="el" href="inpGeoMesh_8C_source.html#l00128">id</a>, <a class="el" href="geoMeshFactory_8C_source.html#l00116">NEM::MSH::New()</a>, <a class="el" href="TransferBase_8H_source.html#l00105">TransferBase::source</a>, <a class="el" href="AuxiliaryFunctions_8H_source.html#l00062">nemAux::Timer::start()</a>, <a class="el" href="AuxiliaryFunctions_8H_source.html#l00064">nemAux::Timer::stop()</a>, <a class="el" href="TransferBase_8H_source.html#l00106">TransferBase::target</a>, and <a class="el" href="meshBase_8H_source.html#l00381">meshBase::unsetPointDataArray()</a>.</p>

<p class="reference">Referenced by <a class="el" href="FETransfer_8C_source.html#l00488">run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                                                                        {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">if</span> (arrayIDs.empty()) {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;No arrays are selected for interpolation&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">throw</span>;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  vtkSmartPointer&lt;vtkPointData&gt; pd = <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>()-&gt;GetPointData();</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="comment">// clean target data of duplicate names if no newnames specified</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">if</span> (newnames.empty()) {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordtype">int</span> numArr = pd-&gt;GetNumberOfArrays();</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> arrayID : arrayIDs) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <span class="keywordflow">if</span> (arrayID &gt;= numArr) {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;Selected arrayID is out of bounds\n&quot;</span>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;There are &quot;</span> &lt;&lt; numArr &lt;&lt; <span class="stringliteral">&quot; point data arrays&quot;</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                  &lt;&lt; std::endl;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordflow">throw</span>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#a0fbec2cc0ed5809e65ec95442b6d9154">unsetPointDataArray</a>(pd-&gt;GetArrayName(arrayID));</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  std::vector&lt;vtkSmartPointer&lt;vtkDoubleArray&gt;&gt; dasSource(arrayIDs.size());</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  std::vector&lt;vtkSmartPointer&lt;vtkDoubleArray&gt;&gt; dasTarget(arrayIDs.size());</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="comment">// initializing arrays storing interpolated data</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; arrayIDs.size(); ++<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>) {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// get desired point data array from source to be transferred to target</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    vtkSmartPointer&lt;vtkDoubleArray&gt; daSource =</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        vtkDoubleArray::SafeDownCast(pd-&gt;GetArray(arrayIDs[<span class="keywordtype">id</span>]));</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">// get tuple length of given data`</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordtype">int</span> numComponent = daSource-&gt;GetNumberOfComponents();</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// declare data array to be populated with values at target points</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    vtkSmartPointer&lt;vtkDoubleArray&gt; daTarget =</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <a class="code" href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">vtkSmartPointer&lt;vtkDoubleArray&gt;::New</a>();</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// names and sizing</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">if</span> (newnames.empty()) {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      daTarget-&gt;SetName(pd-&gt;GetArrayName(arrayIDs[<span class="keywordtype">id</span>]));</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      daTarget-&gt;SetName(newnames[<span class="keywordtype">id</span>].c_str());</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    daTarget-&gt;SetNumberOfComponents(numComponent);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    daTarget-&gt;SetNumberOfTuples(<a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#aa48dff7fbe2bfa7418c9d2b0321675ac">getNumberOfPoints</a>());</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Number of components : &quot;</span> &lt;&lt; numComponent &lt;&lt; std::endl;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Number of points     : &quot;</span> &lt;&lt; <a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#aa48dff7fbe2bfa7418c9d2b0321675ac">getNumberOfPoints</a>()</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;              &lt;&lt; std::endl</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;              &lt;&lt; std::endl;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    dasSource[<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>] = daSource;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    dasTarget[<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>] = daTarget;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="classnemAux_1_1Timer.html">nemAux::Timer</a> timer;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  timer.<a class="code" href="classnemAux_1_1Timer.html#a6c8194b579f776b7c433affc763d6d4e">start</a>();</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">#ifdef HAVE_OPENMP</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordtype">int</span> numTargetPoints = <a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#aa48dff7fbe2bfa7418c9d2b0321675ac">getNumberOfPoints</a>();</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;Max number of threads available in transfer &quot;</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            &lt;&lt; omp_get_max_threads() &lt;&lt; std::endl;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">// transfer point data</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor">#  pragma omp parallel default(none) \</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="preprocessor">      shared(dasSource, dasTarget, numTargetPoints, cout)</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">#  pragma omp single</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;Number of threads used in transfer &quot;</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                &lt;&lt; omp_get_num_threads() &lt;&lt; std::endl;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="comment">// the following methods are thread safe IF called from a single thread</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="comment">// first</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      vtkSmartPointer&lt;vtkGenericCell&gt; tempCell =</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;          <a class="code" href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">vtkSmartPointer&lt;vtkGenericCell&gt;::New</a>();</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>()-&gt;GetCell(0, tempCell);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>()-&gt;GetCell(0, tempCell);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="keywordtype">double</span> x[3];</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>()-&gt;GetPoint(0, x);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>()-&gt;GetPoint(0, x);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="keyword">auto</span> tempCellIds = <a class="code" href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">vtkSmartPointer&lt;vtkIdList&gt;::New</a>();</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>()-&gt;GetPointCells(0, tempCellIds);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>()-&gt;GetPointCells(0, tempCellIds);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">// generic cell buffer used by locator</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    vtkSmartPointer&lt;vtkGenericCell&gt; containingCell =</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <a class="code" href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">vtkSmartPointer&lt;vtkGenericCell&gt;::New</a>();</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="preprocessor">#  pragma omp for schedule(static)</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iPnt = 0; iPnt &lt; numTargetPoints; ++iPnt) {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <a class="code" href="classFETransfer.html#ab797ca0634be77b07be086c8bb069a74">transferPointData</a>(iPnt, containingCell, dasSource, dasTarget, <span class="keyword">false</span>);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  }</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  vtkSmartPointer&lt;vtkGenericCell&gt; containingCell =</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <a class="code" href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">vtkSmartPointer&lt;vtkGenericCell&gt;::New</a>();</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iPnt = 0; iPnt &lt; <a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#aa48dff7fbe2bfa7418c9d2b0321675ac">getNumberOfPoints</a>(); ++iPnt) {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="classFETransfer.html#ab797ca0634be77b07be086c8bb069a74">transferPointData</a>(iPnt, containingCell, dasSource, dasTarget, <span class="keyword">false</span>);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  timer.<a class="code" href="classnemAux_1_1Timer.html#a04601a1fd7af28b519b24be6565f4388">stop</a>();</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;TRANSFER TIME : &quot;</span> &lt;&lt; timer.<a class="code" href="classnemAux_1_1Timer.html#aa6889dd2606fcc1e480f93b1c84cf36b">elapsed</a>() &lt;&lt; std::endl;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; arrayIDs.size(); ++<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>()-&gt;GetPointData()-&gt;AddArray(dasTarget[<span class="keywordtype">id</span>]);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classTransferBase.html#a700bb47c5d9143a55964c07905c156de">checkQual</a>) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    std::vector&lt;vtkSmartPointer&lt;vtkDoubleArray&gt;&gt; newDasSource(arrayIDs.size());</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; arrayIDs.size(); ++<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>) {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="keywordtype">int</span> numComponent = dasTarget[<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>]-&gt;GetNumberOfComponents();</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <span class="comment">// declare data array to be populated with values at target points</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      vtkSmartPointer&lt;vtkDoubleArray&gt; newDaSource =</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;          <a class="code" href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">vtkSmartPointer&lt;vtkDoubleArray&gt;::New</a>();</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      newDaSource-&gt;SetNumberOfComponents(numComponent);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      newDaSource-&gt;SetNumberOfTuples(<a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#aa48dff7fbe2bfa7418c9d2b0321675ac">getNumberOfPoints</a>());</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      newDasSource[<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>] = newDaSource;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    vtkSmartPointer&lt;vtkGenericCell&gt; genCell =</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <a class="code" href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">vtkSmartPointer&lt;vtkGenericCell&gt;::New</a>();</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#aa48dff7fbe2bfa7418c9d2b0321675ac">getNumberOfPoints</a>(); ++i) {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <a class="code" href="classFETransfer.html#ab797ca0634be77b07be086c8bb069a74">transferPointData</a>(i, genCell, dasTarget, newDasSource, <span class="keyword">true</span>);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; arrayIDs.size(); ++<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>) {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="keywordtype">int</span> numComponent = newDasSource[<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>]-&gt;GetNumberOfComponents();</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keywordtype">double</span> diffsum = 0.0;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#aa48dff7fbe2bfa7418c9d2b0321675ac">getNumberOfPoints</a>(); ++i) {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keyword">auto</span> *comps_old = <span class="keyword">new</span> <span class="keywordtype">double</span>[numComponent];</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keyword">auto</span> *comps_new = <span class="keyword">new</span> <span class="keywordtype">double</span>[numComponent];</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        dasSource[<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>]-&gt;GetTuple(i, comps_old);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        newDasSource[<a class="code" href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a>]-&gt;GetTuple(i, comps_new);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; numComponent; ++j) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;          <span class="keywordtype">double</span> diff = std::fabs((comps_new[j] - comps_old[j]) / comps_old[j]);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;          diffsum += std::isnan(diff) ? 0.0 : diff * diff;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keyword">delete</span>[] comps_old;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keyword">delete</span>[] comps_new;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <span class="keywordtype">double</span> rmse =</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;          std::sqrt(diffsum / (numComponent * <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#aa48dff7fbe2bfa7418c9d2b0321675ac">getNumberOfPoints</a>()));</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;RMS Error in Nodal Transfer: &quot;</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                &lt;&lt; (!(std::isnan(rmse) || std::isinf(rmse)) ? rmse : 0)</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                &lt;&lt; std::endl;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    }</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  }</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;}</div><div class="ttc" id="classTransferBase_html_a700bb47c5d9143a55964c07905c156de"><div class="ttname"><a href="classTransferBase.html#a700bb47c5d9143a55964c07905c156de">TransferBase::checkQual</a></div><div class="ttdeci">bool checkQual</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00114">TransferBase.H:114</a></div></div>
<div class="ttc" id="namespaceNEM_1_1MSH_html_a6dec3dd9e4a5682417877ae516d7fce8"><div class="ttname"><a href="namespaceNEM_1_1MSH.html#a6dec3dd9e4a5682417877ae516d7fce8">NEM::MSH::New</a></div><div class="ttdeci">geoMeshBase * New(MeshType meshType)</div><div class="ttdoc">Create a new mesh object. </div><div class="ttdef"><b>Definition:</b> <a href="geoMeshFactory_8C_source.html#l00116">geoMeshFactory.C:116</a></div></div>
<div class="ttc" id="classnemAux_1_1Timer_html"><div class="ttname"><a href="classnemAux_1_1Timer.html">nemAux::Timer</a></div><div class="ttdef"><b>Definition:</b> <a href="AuxiliaryFunctions_8H_source.html#l00055">AuxiliaryFunctions.H:55</a></div></div>
<div class="ttc" id="classTransferBase_html_a005cb43ba64cf8f05332213faac510ad"><div class="ttname"><a href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">TransferBase::target</a></div><div class="ttdeci">meshBase * target</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00106">TransferBase.H:106</a></div></div>
<div class="ttc" id="classmeshBase_html_a68db40d033ed2be7c610e8ee1d2b9137"><div class="ttname"><a href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">meshBase::getDataSet</a></div><div class="ttdeci">vtkSmartPointer&lt; vtkDataSet &gt; getDataSet() const</div><div class="ttdoc">get this meshes&amp;#39; dataSet </div><div class="ttdef"><b>Definition:</b> <a href="meshBase_8H_source.html#l00308">meshBase.H:308</a></div></div>
<div class="ttc" id="classmeshBase_html_a0fbec2cc0ed5809e65ec95442b6d9154"><div class="ttname"><a href="classmeshBase.html#a0fbec2cc0ed5809e65ec95442b6d9154">meshBase::unsetPointDataArray</a></div><div class="ttdeci">virtual void unsetPointDataArray(int arrayID)</div><div class="ttdoc">delete array with id from dataSet&amp;#39;s point data </div><div class="ttdef"><b>Definition:</b> <a href="meshBase_8H_source.html#l00381">meshBase.H:381</a></div></div>
<div class="ttc" id="classmeshBase_html_aa48dff7fbe2bfa7418c9d2b0321675ac"><div class="ttname"><a href="classmeshBase.html#aa48dff7fbe2bfa7418c9d2b0321675ac">meshBase::getNumberOfPoints</a></div><div class="ttdeci">nemId_t getNumberOfPoints() const</div><div class="ttdoc">return the number of points </div><div class="ttdef"><b>Definition:</b> <a href="meshBase_8H_source.html#l00545">meshBase.H:545</a></div></div>
<div class="ttc" id="inpGeoMesh_8C_html_a43faaccc5c27d68d65871b221434ce8e"><div class="ttname"><a href="inpGeoMesh_8C.html#a43faaccc5c27d68d65871b221434ce8e">id</a></div><div class="ttdeci">vtkIdType id</div><div class="ttdoc">id in .inp file </div><div class="ttdef"><b>Definition:</b> <a href="inpGeoMesh_8C_source.html#l00128">inpGeoMesh.C:128</a></div></div>
<div class="ttc" id="classnemAux_1_1Timer_html_a04601a1fd7af28b519b24be6565f4388"><div class="ttname"><a href="classnemAux_1_1Timer.html#a04601a1fd7af28b519b24be6565f4388">nemAux::Timer::stop</a></div><div class="ttdeci">time_t stop()</div><div class="ttdef"><b>Definition:</b> <a href="AuxiliaryFunctions_8H_source.html#l00064">AuxiliaryFunctions.H:64</a></div></div>
<div class="ttc" id="classnemAux_1_1Timer_html_a6c8194b579f776b7c433affc763d6d4e"><div class="ttname"><a href="classnemAux_1_1Timer.html#a6c8194b579f776b7c433affc763d6d4e">nemAux::Timer::start</a></div><div class="ttdeci">time_t start()</div><div class="ttdef"><b>Definition:</b> <a href="AuxiliaryFunctions_8H_source.html#l00062">AuxiliaryFunctions.H:62</a></div></div>
<div class="ttc" id="classnemAux_1_1Timer_html_aa6889dd2606fcc1e480f93b1c84cf36b"><div class="ttname"><a href="classnemAux_1_1Timer.html#aa6889dd2606fcc1e480f93b1c84cf36b">nemAux::Timer::elapsed</a></div><div class="ttdeci">double elapsed()</div><div class="ttdef"><b>Definition:</b> <a href="AuxiliaryFunctions_8H_source.html#l00066">AuxiliaryFunctions.H:66</a></div></div>
<div class="ttc" id="classFETransfer_html_ab797ca0634be77b07be086c8bb069a74"><div class="ttname"><a href="classFETransfer.html#ab797ca0634be77b07be086c8bb069a74">FETransfer::transferPointData</a></div><div class="ttdeci">int transferPointData(const std::vector&lt; int &gt; &amp;arrayIDs, const std::vector&lt; std::string &gt; &amp;newnames=std::vector&lt; std::string &gt;()) override</div><div class="ttdoc">Transfers point data with arrayID from source mesh to target The algorithm is as follows; 1) For each...</div><div class="ttdef"><b>Definition:</b> <a href="FETransfer_8C_source.html#l00084">FETransfer.C:84</a></div></div>
<div class="ttc" id="classTransferBase_html_a081539dabcfd137a21e8f23fc93b3350"><div class="ttname"><a href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">TransferBase::source</a></div><div class="ttdeci">meshBase * source</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00105">TransferBase.H:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ec34fb98ff7c8bd667bad8bbc11a061"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ec34fb98ff7c8bd667bad8bbc11a061">&#9670;&nbsp;</a></span>transferPointData() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FETransfer::transferPointData </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pointId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vtkSmartPointer&lt; vtkGenericCell &gt;&#160;</td>
          <td class="paramname"><em>containingCell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; vtkSmartPointer&lt; vtkDoubleArray &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>dasSource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; vtkSmartPointer&lt; vtkDoubleArray &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>dasTarget</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="FETransfer_8C_source.html#l00225">225</a> of file <a class="el" href="FETransfer_8C_source.html">FETransfer.C</a>.</p>

<p class="reference">References <a class="el" href="FETransfer_8C_source.html#l00527">getClosestSourceCell()</a>, <a class="el" href="meshBase_8H_source.html#l00308">meshBase::getDataSet()</a>, <a class="el" href="TransferBase_8H_source.html#l00105">TransferBase::source</a>, and <a class="el" href="TransferBase_8H_source.html#l00106">TransferBase::target</a>.</p>
<div class="fragment"><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                                                                            {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="comment">// id of the cell containing source/target mesh point</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordtype">double</span> x[3];             <span class="comment">// target point</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordtype">double</span> closestPoint[3];  <span class="comment">// nearest source point</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  vtkIdType cellId;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keywordtype">int</span> subId;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keywordtype">double</span> minDist2;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keywordtype">double</span> *weights;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">if</span> (!flip) {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">target</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>()-&gt;GetPoint(pointId, x);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="classFETransfer.html#a821c461517039cd5dfb7eb64e1eb10c6">getClosestSourceCell</a>(x, flip, cellId, containingCell, closestPoint, subId,</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                         minDist2, weights);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>()-&gt;GetPoint(pointId, x);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="classFETransfer.html#a821c461517039cd5dfb7eb64e1eb10c6">getClosestSourceCell</a>(x, flip, cellId, containingCell, closestPoint, subId,</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                         minDist2, weights);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; dasSource.size(); ++i) {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordtype">int</span> numComponent = dasSource[i]-&gt;GetNumberOfComponents();</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keyword">auto</span> *comps = <span class="keyword">new</span> <span class="keywordtype">double</span>[numComponent];</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    std::vector&lt;double&gt; interps(numComponent, 0.0);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> m = 0; m &lt; containingCell-&gt;GetNumberOfPoints(); ++m) {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <span class="keywordtype">int</span> pntId = containingCell-&gt;GetPointId(m);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      dasSource[i]-&gt;GetTuple(pntId, comps);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> h = 0; h &lt; numComponent; ++h) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        interps[h] += comps[h] * weights[m];</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keyword">delete</span>[] comps;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="comment">// adding interpolated value to data of cell</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    dasTarget[i]-&gt;SetTuple(pointId, interps.data());</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;}</div><div class="ttc" id="classFETransfer_html_a821c461517039cd5dfb7eb64e1eb10c6"><div class="ttname"><a href="classFETransfer.html#a821c461517039cd5dfb7eb64e1eb10c6">FETransfer::getClosestSourceCell</a></div><div class="ttdeci">void getClosestSourceCell(double x[3], bool flip, vtkIdType &amp;id, vtkSmartPointer&lt; vtkGenericCell &gt; closestCell, double closestPoint[3], int &amp;subId, double &amp;minDist2, double *&amp;weights)</div><div class="ttdoc">Thread safe implementation using static point locator. </div><div class="ttdef"><b>Definition:</b> <a href="FETransfer_8C_source.html#l00527">FETransfer.C:527</a></div></div>
<div class="ttc" id="classTransferBase_html_a005cb43ba64cf8f05332213faac510ad"><div class="ttname"><a href="classTransferBase.html#a005cb43ba64cf8f05332213faac510ad">TransferBase::target</a></div><div class="ttdeci">meshBase * target</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00106">TransferBase.H:106</a></div></div>
<div class="ttc" id="classmeshBase_html_a68db40d033ed2be7c610e8ee1d2b9137"><div class="ttname"><a href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">meshBase::getDataSet</a></div><div class="ttdeci">vtkSmartPointer&lt; vtkDataSet &gt; getDataSet() const</div><div class="ttdoc">get this meshes&amp;#39; dataSet </div><div class="ttdef"><b>Definition:</b> <a href="meshBase_8H_source.html#l00308">meshBase.H:308</a></div></div>
<div class="ttc" id="classTransferBase_html_a081539dabcfd137a21e8f23fc93b3350"><div class="ttname"><a href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">TransferBase::source</a></div><div class="ttdeci">meshBase * source</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00105">TransferBase.H:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7303d7ff68b2015126107370344809e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7303d7ff68b2015126107370344809e1">&#9670;&nbsp;</a></span>transferPointData() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TransferBase::transferPointData </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>arrayNames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>newnames</em> = <code>std::vector&lt;std::string&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arrayIDs</td><td>array of array names to specify which fields to transfer </td></tr>
    <tr><td class="paramname">newnames</td><td>optional array of names to be applied to transferred fields </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 upon completion </dd></dl>

<p class="definition">Definition at line <a class="el" href="TransferBase_8C_source.html#l00036">36</a> of file <a class="el" href="TransferBase_8C_source.html">TransferBase.C</a>.</p>

<p class="reference">References <a class="el" href="TransferBase_8C_source.html#l00056">TransferBase::getArrayIDs()</a>, <a class="el" href="meshBase_8H_source.html#l00308">meshBase::getDataSet()</a>, <a class="el" href="TransferBase_8H_source.html#l00105">TransferBase::source</a>, and <a class="el" href="classTransferBase.html#a463735b096cf4db9ae70cb7d8f64d944">TransferBase::transferPointData()</a>.</p>
<div class="fragment"><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;{</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  vtkPointData* pointData = <a class="code" href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">source</a>-&gt;<a class="code" href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">getDataSet</a>()-&gt;GetPointData();</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  std::vector&lt;int&gt; arrayIDs = <a class="code" href="classTransferBase.html#acc0dd4e7b696b6796d57a6fd71a3a58f">getArrayIDs</a>(arrayNames, pointData);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classTransferBase.html#a463735b096cf4db9ae70cb7d8f64d944">transferPointData</a>(arrayIDs, newnames);</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div><div class="ttc" id="classmeshBase_html_a68db40d033ed2be7c610e8ee1d2b9137"><div class="ttname"><a href="classmeshBase.html#a68db40d033ed2be7c610e8ee1d2b9137">meshBase::getDataSet</a></div><div class="ttdeci">vtkSmartPointer&lt; vtkDataSet &gt; getDataSet() const</div><div class="ttdoc">get this meshes&amp;#39; dataSet </div><div class="ttdef"><b>Definition:</b> <a href="meshBase_8H_source.html#l00308">meshBase.H:308</a></div></div>
<div class="ttc" id="classTransferBase_html_a463735b096cf4db9ae70cb7d8f64d944"><div class="ttname"><a href="classTransferBase.html#a463735b096cf4db9ae70cb7d8f64d944">TransferBase::transferPointData</a></div><div class="ttdeci">virtual int transferPointData(const std::vector&lt; int &gt; &amp;arrayIDs, const std::vector&lt; std::string &gt; &amp;newnames=std::vector&lt; std::string &gt;())=0</div><div class="ttdoc">Transfer point data with given ids from source to target. </div></div>
<div class="ttc" id="classTransferBase_html_acc0dd4e7b696b6796d57a6fd71a3a58f"><div class="ttname"><a href="classTransferBase.html#acc0dd4e7b696b6796d57a6fd71a3a58f">TransferBase::getArrayIDs</a></div><div class="ttdeci">std::vector&lt; int &gt; getArrayIDs(const std::vector&lt; std::string &gt; &amp;arrayNames, vtkFieldData *fieldData)</div><div class="ttdoc">given array names and field data, return vector of corresponding array ids in the field data ...</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8C_source.html#l00056">TransferBase.C:56</a></div></div>
<div class="ttc" id="classTransferBase_html_a081539dabcfd137a21e8f23fc93b3350"><div class="ttname"><a href="classTransferBase.html#a081539dabcfd137a21e8f23fc93b3350">TransferBase::source</a></div><div class="ttdeci">meshBase * source</div><div class="ttdef"><b>Definition:</b> <a href="TransferBase_8H_source.html#l00105">TransferBase.H:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a3d0ed999668baac0dd831f5cb75ed076"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d0ed999668baac0dd831f5cb75ed076">&#9670;&nbsp;</a></span>c2cTrnsDistTol</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double TransferBase::c2cTrnsDistTol</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TransferBase_8H_source.html#l00116">116</a> of file <a class="el" href="TransferBase_8H_source.html">TransferBase.H</a>.</p>

<p class="reference">Referenced by <a class="el" href="FETransfer_8C_source.html#l00274">transferCellData()</a>.</p>

</div>
</div>
<a id="a700bb47c5d9143a55964c07905c156de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a700bb47c5d9143a55964c07905c156de">&#9670;&nbsp;</a></span>checkQual</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TransferBase::checkQual</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TransferBase_8H_source.html#l00114">114</a> of file <a class="el" href="TransferBase_8H_source.html">TransferBase.H</a>.</p>

<p class="reference">Referenced by <a class="el" href="FETransfer_8C_source.html#l00084">transferPointData()</a>.</p>

</div>
</div>
<a id="a734a96914159ae8a287289e7b507e3ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a734a96914159ae8a287289e7b507e3ac">&#9670;&nbsp;</a></span>continuous</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TransferBase::continuous</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TransferBase_8H_source.html#l00115">115</a> of file <a class="el" href="TransferBase_8H_source.html">TransferBase.H</a>.</p>

<p class="reference">Referenced by <a class="el" href="FETransfer_8C_source.html#l00274">transferCellData()</a>.</p>

</div>
</div>
<a id="a081539dabcfd137a21e8f23fc93b3350"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a081539dabcfd137a21e8f23fc93b3350">&#9670;&nbsp;</a></span>source</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmeshBase.html">meshBase</a>* TransferBase::source</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TransferBase_8H_source.html#l00105">105</a> of file <a class="el" href="TransferBase_8H_source.html">TransferBase.H</a>.</p>

<p class="reference">Referenced by <a class="el" href="ConservativeVolumeTransfer_8C_source.html#l00047">ConservativeVolumeTransfer::ConservativeVolumeTransfer()</a>, <a class="el" href="ConservativeVolumeTransfer_8C_source.html#l00131">ConservativeVolumeTransfer::constructSupermesh()</a>, <a class="el" href="FETransfer_8C_source.html#l00044">FETransfer()</a>, <a class="el" href="FETransfer_8C_source.html#l00527">getClosestSourceCell()</a>, <a class="el" href="FETransfer_8C_source.html#l00488">run()</a>, <a class="el" href="TransferBase_8C_source.html#l00047">TransferBase::transferCellData()</a>, <a class="el" href="FETransfer_8C_source.html#l00274">transferCellData()</a>, <a class="el" href="ConservativeSurfaceTransfer_8C_source.html#l00051">ConservativeSurfaceTransfer::transferPointData()</a>, <a class="el" href="FETransfer_8C_source.html#l00084">transferPointData()</a>, <a class="el" href="TransferBase_8C_source.html#l00036">TransferBase::transferPointData()</a>, and <a class="el" href="ConservativeSurfaceTransfer_8C_source.html#l00174">ConservativeSurfaceTransfer::writeOverlay()</a>.</p>

</div>
</div>
<a id="af4ee5da9e11a9b9399c87f483ac08c78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4ee5da9e11a9b9399c87f483ac08c78">&#9670;&nbsp;</a></span>srcCellLocator</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vtkSmartPointer&lt;vtkStaticCellLocator&gt; TransferBase::srcCellLocator = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TransferBase_8H_source.html#l00108">108</a> of file <a class="el" href="TransferBase_8H_source.html">TransferBase.H</a>.</p>

<p class="reference">Referenced by <a class="el" href="FETransfer_8C_source.html#l00044">FETransfer()</a>, and <a class="el" href="FETransfer_8C_source.html#l00527">getClosestSourceCell()</a>.</p>

</div>
</div>
<a id="a267817d89e010c60ffabc4068245220d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a267817d89e010c60ffabc4068245220d">&#9670;&nbsp;</a></span>srcPointLocator</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vtkSmartPointer&lt;vtkStaticPointLocator&gt; TransferBase::srcPointLocator = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TransferBase_8H_source.html#l00111">111</a> of file <a class="el" href="TransferBase_8H_source.html">TransferBase.H</a>.</p>

<p class="reference">Referenced by <a class="el" href="FETransfer_8C_source.html#l00044">FETransfer()</a>.</p>

</div>
</div>
<a id="a005cb43ba64cf8f05332213faac510ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a005cb43ba64cf8f05332213faac510ad">&#9670;&nbsp;</a></span>target</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmeshBase.html">meshBase</a>* TransferBase::target</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TransferBase_8H_source.html#l00106">106</a> of file <a class="el" href="TransferBase_8H_source.html">TransferBase.H</a>.</p>

<p class="reference">Referenced by <a class="el" href="ConservativeVolumeTransfer_8C_source.html#l00047">ConservativeVolumeTransfer::ConservativeVolumeTransfer()</a>, <a class="el" href="ConservativeVolumeTransfer_8C_source.html#l00131">ConservativeVolumeTransfer::constructSupermesh()</a>, <a class="el" href="FETransfer_8C_source.html#l00044">FETransfer()</a>, <a class="el" href="FETransfer_8C_source.html#l00527">getClosestSourceCell()</a>, <a class="el" href="FETransfer_8C_source.html#l00488">run()</a>, <a class="el" href="FETransfer_8C_source.html#l00274">transferCellData()</a>, <a class="el" href="ConservativeSurfaceTransfer_8C_source.html#l00051">ConservativeSurfaceTransfer::transferPointData()</a>, <a class="el" href="FETransfer_8C_source.html#l00084">transferPointData()</a>, and <a class="el" href="ConservativeSurfaceTransfer_8C_source.html#l00174">ConservativeSurfaceTransfer::writeOverlay()</a>.</p>

</div>
</div>
<a id="a21b967b45ee0650af67a31e83e54a583"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21b967b45ee0650af67a31e83e54a583">&#9670;&nbsp;</a></span>trgCellLocator</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vtkSmartPointer&lt;vtkStaticCellLocator&gt; TransferBase::trgCellLocator = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TransferBase_8H_source.html#l00109">109</a> of file <a class="el" href="TransferBase_8H_source.html">TransferBase.H</a>.</p>

<p class="reference">Referenced by <a class="el" href="FETransfer_8C_source.html#l00044">FETransfer()</a>, and <a class="el" href="FETransfer_8C_source.html#l00527">getClosestSourceCell()</a>.</p>

</div>
</div>
<a id="a312af64f5e5eaaef9611f0b78deba6a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a312af64f5e5eaaef9611f0b78deba6a6">&#9670;&nbsp;</a></span>trgPointLocator</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vtkSmartPointer&lt;vtkStaticPointLocator&gt; TransferBase::trgPointLocator = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="TransferBase_8H_source.html#l00112">112</a> of file <a class="el" href="TransferBase_8H_source.html">TransferBase.H</a>.</p>

<p class="reference">Referenced by <a class="el" href="FETransfer_8C_source.html#l00044">FETransfer()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="FETransfer_8H_source.html">FETransfer.H</a></li>
<li><a class="el" href="FETransfer_8C_source.html">FETransfer.C</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classFETransfer.html">FETransfer</a></li>
    <li class="footer">Generated on Wed Jan 26 2022 16:40:03 for NEMoSys by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
